{"entries":[{"timestamp":1726302605957,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s"],[0,"://"],[-1,"developers.google.com/blockly/xml\"><variables></variables>"],[1,"www.w3.org/1999/xhtml\">\n  "],[0,"<blo"]],"start1":12,"start2":12,"length1":70,"length2":37},{"diffs":[[0,"art\""],[-1," x=\"20\" y=\"20\""],[0,"></b"]],"start1":67,"start2":67,"length1":22,"length2":8},{"diffs":[[0,"</block>"],[1,"\n  "],[0,"<block t"]],"start1":72,"start2":72,"length1":16,"length2":19},{"diffs":[[0,"ver\""],[-1," x=\"225\" y=\"20\""],[0,"></b"]],"start1":107,"start2":107,"length1":23,"length2":8},{"diffs":[[0,"</block>"],[1,"\n"],[0,"</xml>"]],"start1":112,"start2":112,"length1":14,"length2":15}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,".md\""],[-1,",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"pyprj\""],[1,"\n    ],\n    \"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":222,"start2":222,"length1":64,"length2":44}]},{"type":"added","filename":"main.py","value":"from microbit import *\n\nuart.init(baudrate=115200)\n\nwhile True:\n    if uart.any():\n        received = uart.read()\n        display.scroll(received)\n    else:\n        uart.write(\"Hello from Micro:bit\\n\")\n    sleep(1000)\n"}]},{"timestamp":1726302816300,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.py","patch":[{"diffs":[[1,"from microbit import *\n\nuart.init(baudrate=115200)\n\nwhile True:\n    if uart.any():\n        received = uart.read()\n        display.scroll(received)\n    else:\n        uart.write(\"Hello from Micro:bit\\n\")\n    sleep(1000)\n"]],"start1":0,"start2":0,"length1":0,"length2":218}]}]},{"timestamp":1727338702544,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"\" x=\"20\""],[1," y=\"20\"></block><block type=\"device_forever\" x=\"225\""],[0," y=\"20\">"]],"start1":103,"start2":103,"length1":16,"length2":68}]}]},{"timestamp":1727338724269,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0," x=\""],[1,"2"],[0,"0\" y=\""],[1,"2"],[0,"0\"><"]],"start1":104,"start2":104,"length1":14,"length2":16}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"blocks"],[1,"py"],[0,"prj\"\n}\n"]],"start1":269,"start2":269,"length1":21,"length2":17}]}]},{"timestamp":1727338727028,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"es><"],[-1,"variable id=\"zAVyJ)@AmU692qa4Qltn\">distance</variable><variable id=\"myo6o=m?{,7p(A;}c(7.\">sendDistance</variable><variable id=\"SKx=.#vDd-Svhu(eJ6j5\">receivedData</variable><variable id=\",s;0p+t;u1jhI`%m:9wc\">direction</variable></variables><block type=\"device_forever\" x=\"377\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"zAVyJ)@AmU692qa4Qltn\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"sendData\" functionid=\"4|s1AETe`T~.cVwb[#^(\"></mutation><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"r/i/:2K@i]+hJ)N|@-E(\"></mutation></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"38\" y=\"54\"><statement name=\"HANDLER\"><block type=\"serial_redirect_to_usb\"><next><block type=\"variables_set\"><field name=\"VAR\" id=\"myo6o=m?{,7p(A;}c(7.\">sendDistance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\",s;0p+t;u1jhI`%m:9wc\">direction</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"862\" y=\"20\"><mutation name=\"receiveData\" functionid=\"r/i/:2K@i]+hJ)N|@-E(\"></mutation><field name=\"function_name\">receiveData</field><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"SKx=.#vDd-Svhu(eJ6j5\">receivedData</field><comment pinned=\"false\" h=\"80\" w=\"160\">?????????\n????</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_buffer\"></block></value><next><block type=\"controls_if\"><mutation elseif=\"3\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">???????????????</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"SKx=.#vDd-Svhu(eJ6j5\">receivedData</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">forward</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\",s;0p+t;u1jhI`%m:9wc\">direction</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"SKx=.#vDd-Svhu(eJ6j5\">receivedData</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">back</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\",s;0p+t;u1jhI`%m:9wc\">direction</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"SKx=.#vDd-Svhu(eJ6j5\">receivedData</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">left</field></block></value></block></value><statement name=\"DO2\"><block type=\"variables_set\"><field name=\"VAR\" id=\",s;0p+t;u1jhI`%m:9wc\">direction</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"SKx=.#vDd-Svhu(eJ6j5\">receivedData</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"text\"><field name=\"TEXT\">right</field></block></value></block></value><statement name=\"DO3\"><block type=\"variables_set\"><field name=\"VAR\" id=\",s;0p+t;u1jhI`%m:9wc\">direction</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value></block></statement><next><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hello!</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"SKx=.#vDd-Svhu(eJ6j5\">receivedData</field></block></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1439\" y=\"20\"><mutation name=\"sendData\" functionid=\"4|s1AETe`T~.cVwb[#^(\"></mutation><field name=\"function_name\">sendData</field><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"zAVyJ)@AmU692qa4Qltn\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"myo6o=m?{,7p(A;}c(7.\">sendDistance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"myo6o=m?{,7p(A;}c(7.\">sendDistance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"serial_writevalue\"><value name=\"name\"><shadow type=\"text\"><field name=\"TEXT\">distance</field></shadow></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"myo6o=m?{,7p(A;}c(7.\">sendDistance</field></block></value></block></next></block></statement></block></statement><statement name=\"ELSE\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"myo6o=m?{,7p(A;}c(7.\">sendDistance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"myo6o=m?{,7p(A;}c(7.\">sendDistance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"serial_writevalue\"><value name=\"name\"><shadow type=\"text\"><field name=\"TEXT\">distance</field></shadow></value><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"myo6o=m?{,7p(A;}c(7.\">sendDistance</field></block></value></block></next></block></statement></block></statement></block></statement"],[1,"/variables><block type=\"pxt-on-start\" x=\"0\" y=\"0\""],[0,"></b"]],"start1":63,"start2":63,"length1":7992,"length2":57}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"function sendData () {\n    if (distance < 500) {\n        if (sendDistance == 0) {\n            sendDistance = 1\n            serial.writeValue(\"distance\", sendDistance)\n        }\n    } else {\n        if (sendDistance == 1) {\n            sendDistance = 0\n            serial.writeValue(\"distance\", sendDistance)\n        }\n    }\n}\nfunction receiveData () {\n    // ?????????\n    // ????\n    receivedData = serial.readString()\n    // ???????????????\n    if (receivedData == \"forward\") {\n        direction = 1\n    } else if (receivedData == \"back\") {\n        direction = 2\n    } else if (receivedData == \"left\") {\n        direction = 3\n    } else if (receivedData == \"right\") {\n        direction = 4\n    }\n    basic.showString(receivedData)\n}\nlet receivedData = \"\"\nlet distance = 0\nlet direction = 0\nlet sendDistance = 0\nserial.redirectToUSB()\nsendDistance = 0\ndirection = 0\nbasic.showIcon(IconNames.Yes)\nbasic.forever(function () {\n    distance = sonar.ping(\n    DigitalPin.P0,\n    DigitalPin.P1,\n    PingUnit.MicroSeconds\n    )\n    sendData()\n    receiveData()\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":1058,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," \"*\""],[-1,",\n        \"robotbit\": \"github:kittenbot/pxt-robotbit#v0.4.6\",\n        \"pxt-sonar\": \"github:microsoft/pxt-sonar#v0.0.6\""],[0,"\n   "]],"start1":138,"start2":138,"length1":126,"length2":8}]}]},{"timestamp":1727350540863,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"bles><block "],[1,"type=\"device_forever\" x=\"377\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"zAVyJ)@AmU692qa4Qltn\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"sendData\" functionid=\"4|s1AETe`T~.cVwb[#^(\"></mutation><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"r/i/:2K@i]+hJ)N|@-E(\"></mutation></block></next></block></next></block></statement></block><block "],[0,"type=\"pxt-on"]],"start1":302,"start2":302,"length1":24,"length2":705},{"diffs":[[0," x=\""],[-1,"0"],[1,"38"],[0,"\" y=\""],[-1,"0"],[1,"54"],[0,"\"><s"]],"start1":1014,"start2":1014,"length1":15,"length2":17},{"diffs":[[0,"x=\"8"],[1,"6"],[0,"2"],[-1,"4"],[0,"\" y=\""],[-1,"-34"],[1,"20"],[0,"\"><m"]],"start1":1647,"start2":1647,"length1":18,"length2":17},{"diffs":[[0,"=\"14"],[-1,"01"],[1,"39"],[0,"\" y=\""],[-1,"-34"],[1,"20"],[0,"\"><m"]],"start1":5397,"start2":5397,"length1":18,"length2":17},{"diffs":[[0,"ck><"],[-1,"block type=\"device_forever\" x=\"398\" y=\"114\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"zAVyJ)@AmU692qa4Qltn\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"sendData\" functionid=\"4|s1AETe`T~.cVwb[#^(\"></mutation><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"r/i/:2K@i]+hJ)N|@-E(\"></mutation></block></next></block></next></block></statement></block><"],[0,"/xml"]],"start1":8057,"start2":8057,"length1":690,"length2":8}]}]},{"timestamp":1727350545695,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"NI6_04w+O{r[0tmx9K7F"],[1,"zAVyJ)@AmU692qa4Qltn"],[0,"\">distan"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"pmwN+60SMM}]Dr~zTLfz"],[1,"myo6o=m?{,7p(A;}c(7."],[0,"\">sendDi"]],"start1":127,"start2":127,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"xhpPeDdXFIWnCKOGFE!]\">direction</variable><variable id=\"Ce1J~J]C5%cL~(5@}U/q\">receivedData"],[1,"SKx=.#vDd-Svhu(eJ6j5\">receivedData</variable><variable id=\",s;0p+t;u1jhI`%m:9wc\">direction"],[0,"</va"]],"start1":190,"start2":190,"length1":98,"length2":98},{"diffs":[[0," x=\""],[-1,"2"],[0,"0\" y=\""],[-1,"2"],[0,"0\"><"]],"start1":333,"start2":333,"length1":16,"length2":14},{"diffs":[[0,"AR\" id=\""],[-1,"pmwN+60SMM}]Dr~zTLfz"],[1,"myo6o=m?{,7p(A;}c(7."],[0,"\">sendDi"]],"start1":457,"start2":457,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"xhpPeDdXFIWnCKOGFE!]"],[1,",s;0p+t;u1jhI`%m:9wc"],[0,"\">direct"]],"start1":646,"start2":646,"length1":36,"length2":36},{"diffs":[[0,"ock "],[-1,"type=\"device_forever\" x=\"369\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NI6_04w+O{r[0tmx9K7F\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"sendData\" functionid=\"U|$}DHQF,y6h066J+Nl(\"></mutation><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"ZxYcMg#B@b[fw:@O.5zL\"></mutation></block></next></block></next></block></statement></block><block "],[0,"type"]],"start1":933,"start2":933,"length1":689,"length2":8},{"diffs":[[0,"x=\"8"],[1,"2"],[0,"4"],[-1,"0"],[0,"\" y=\""],[-1,"20"],[1,"-34"],[0,"\"><m"]],"start1":964,"start2":964,"length1":17,"length2":18},{"diffs":[[0,"id=\""],[-1,"ZxYcMg#B@b[fw:@O.5zL"],[1,"r/i/:2K@i]+hJ)N|@-E("],[0,"\"></"]],"start1":1017,"start2":1017,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"xhpPeDdXFIWnCKOGFE!]\">direction"],[1,"SKx=.#vDd-Svhu(eJ6j5\">receivedData"],[0,"</fi"]],"start1":1171,"start2":1171,"length1":39,"length2":42},{"diffs":[[0,"60\">"],[-1,"读取串口数据并转换为数字"],[1,"?????????\n????"],[0,"</co"]],"start1":1252,"start2":1252,"length1":20,"length2":22},{"diffs":[[0,"e=\"s"],[-1,"tring_parsefloat\"><value name=\"text\"><block type=\"serial_read_line\"></block></value"],[1,"erial_read_buffer\""],[0,"></b"]],"start1":1373,"start2":1373,"length1":91,"length2":26},{"diffs":[[0,"seif=\"3\""],[-1," else=\"1\""],[0,"></mutat"]],"start1":1456,"start2":1456,"length1":25,"length2":16},{"diffs":[[0,"60\">"],[-1,"根据接收到的数字显示相应的箭头"],[1,"???????????????"],[0,"</co"]],"start1":1511,"start2":1511,"length1":23,"length2":23},{"diffs":[[0,"id=\""],[-1,"xhpPeDdXFIWnCKOGFE!]\">direction"],[1,"SKx=.#vDd-Svhu(eJ6j5\">receivedData"],[0,"</fi"]],"start1":1807,"start2":1807,"length1":39,"length2":42},{"diffs":[[0,"ow><"],[-1,"/value></block></value><statement name=\"DO0\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">前进</comment"],[1,"block type=\"text\"><field name=\"TEXT\">forward</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\",s;0p+t;u1jhI`%m:9wc\">direction</field"],[0,"><va"]],"start1":1945,"start2":1945,"length1":134,"length2":202},{"diffs":[[0,"ld><value name=\""],[-1,"i"],[1,"VALUE"],[0,"\"><shadow type=\""]],"start1":2141,"start2":2141,"length1":33,"length2":37},{"diffs":[[0,"hadow type=\""],[-1,"device_arrow"],[1,"math_number"],[0,"\"><field nam"]],"start1":2166,"start2":2166,"length1":36,"length2":35},{"diffs":[[0,"me=\""],[-1,"arrow\">ArrowNames.North"],[1,"NUM\">1"],[0,"</fi"]],"start1":2200,"start2":2200,"length1":31,"length2":14},{"diffs":[[0,"id=\""],[-1,"xhpPeDdXFIWnCKOGFE!]\">direction"],[1,"SKx=.#vDd-Svhu(eJ6j5\">receivedData"],[0,"</fi"]],"start1":2522,"start2":2522,"length1":39,"length2":42},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"1"],[1,"0"],[0,"</field></shadow"]],"start1":2629,"start2":2629,"length1":33,"length2":33},{"diffs":[[0,"ow><"],[-1,"/value></block></value><statement name=\"DO1\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">向左</comment"],[1,"block type=\"text\"><field name=\"TEXT\">back</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set\"><field name=\"VAR\" id=\",s;0p+t;u1jhI`%m:9wc\">direction</field"],[0,"><va"]],"start1":2660,"start2":2660,"length1":134,"length2":199},{"diffs":[[0,"ld><value name=\""],[-1,"i"],[1,"VALUE"],[0,"\"><shadow type=\""]],"start1":2853,"start2":2853,"length1":33,"length2":37},{"diffs":[[0,"hadow type=\""],[-1,"device_arrow"],[1,"math_number"],[0,"\"><field nam"]],"start1":2878,"start2":2878,"length1":36,"length2":35},{"diffs":[[0,"me=\""],[-1,"arrow\">ArrowNames.West"],[1,"NUM\">2"],[0,"</fi"]],"start1":2912,"start2":2912,"length1":30,"length2":14},{"diffs":[[0,"id=\""],[-1,"xhpPeDdXFIWnCKOGFE!]\">direction"],[1,"SKx=.#vDd-Svhu(eJ6j5\">receivedData"],[0,"</fi"]],"start1":3234,"start2":3234,"length1":39,"length2":42},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"2"],[1,"0"],[0,"</field></shadow"]],"start1":3341,"start2":3341,"length1":33,"length2":33},{"diffs":[[0,"ow><"],[-1,"/value></block></value><statement name=\"DO2\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">向右</comment"],[1,"block type=\"text\"><field name=\"TEXT\">left</field></block></value></block></value><statement name=\"DO2\"><block type=\"variables_set\"><field name=\"VAR\" id=\",s;0p+t;u1jhI`%m:9wc\">direction</field"],[0,"><va"]],"start1":3372,"start2":3372,"length1":134,"length2":199},{"diffs":[[0,"ld><value name=\""],[-1,"i"],[1,"VALUE"],[0,"\"><shadow type=\""]],"start1":3565,"start2":3565,"length1":33,"length2":37},{"diffs":[[0,"hadow type=\""],[-1,"device_arrow"],[1,"math_number"],[0,"\"><field nam"]],"start1":3590,"start2":3590,"length1":36,"length2":35},{"diffs":[[0,"me=\""],[-1,"arrow\">ArrowNames.East"],[1,"NUM\">3"],[0,"</fi"]],"start1":3624,"start2":3624,"length1":30,"length2":14},{"diffs":[[0,"id=\""],[-1,"xhpPeDdXFIWnCKOGFE!]\">direction"],[1,"SKx=.#vDd-Svhu(eJ6j5\">receivedData"],[0,"</fi"]],"start1":3946,"start2":3946,"length1":39,"length2":42},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"3"],[1,"0"],[0,"</field></shadow"]],"start1":4053,"start2":4053,"length1":33,"length2":33},{"diffs":[[0,"ow><"],[-1,"/value></block></value><statement name=\"DO3\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">后退</comment"],[1,"block type=\"text\"><field name=\"TEXT\">right</field></block></value></block></value><statement name=\"DO3\"><block type=\"variables_set\"><field name=\"VAR\" id=\",s;0p+t;u1jhI`%m:9wc\">direction</field"],[0,"><va"]],"start1":4084,"start2":4084,"length1":134,"length2":200},{"diffs":[[0,"e name=\""],[-1,"i"],[1,"VALUE"],[0,"\"><shado"]],"start1":4286,"start2":4286,"length1":17,"length2":21},{"diffs":[[0,"pe=\""],[-1,"device_arrow"],[1,"math_number"],[0,"\"><f"]],"start1":4311,"start2":4311,"length1":20,"length2":19},{"diffs":[[0,"me=\""],[-1,"arrow\">ArrowNames.South"],[1,"NUM\">4"],[0,"</fi"]],"start1":4337,"start2":4337,"length1":31,"length2":14},{"diffs":[[0,"nt><"],[-1,"statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">清除屏幕</comment></block></statemen"],[1,"next><block type=\"device_print_message\"><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Hello!</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"SKx=.#vDd-Svhu(eJ6j5\">receivedData</field></block></value></block></nex"],[0,"t></"]],"start1":4389,"start2":4389,"length1":136,"length2":250},{"diffs":[[0," y=\""],[-1,"20"],[1,"-34"],[0,"\"><m"]],"start1":4722,"start2":4722,"length1":10,"length2":11},{"diffs":[[0,"id=\""],[-1,"U|$}DHQF,y6h066J+Nl"],[1,"4|s1AETe`T~.cVwb[#^"],[0,"(\"><"]],"start1":4765,"start2":4765,"length1":27,"length2":27},{"diffs":[[0,"id=\""],[-1,"NI6_04w+O{r[0tmx9K7F"],[1,"zAVyJ)@AmU692qa4Qltn"],[0,"\">di"]],"start1":5193,"start2":5193,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,"pmwN+60SMM}]Dr~zTLfz"],[1,"myo6o=m?{,7p(A;}c(7."],[0,"\">sendDi"]],"start1":5667,"start2":5667,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"pmwN+60SMM}]Dr~zTLfz"],[1,"myo6o=m?{,7p(A;}c(7."],[0,"\">sendDi"]],"start1":5900,"start2":5900,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"pmwN+60SMM}]Dr~zTLfz"],[1,"myo6o=m?{,7p(A;}c(7."],[0,"\">sendDi"]],"start1":6232,"start2":6232,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"pmwN+60SMM}]Dr~zTLfz"],[1,"myo6o=m?{,7p(A;}c(7."],[0,"\">sendDi"]],"start1":6665,"start2":6665,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"pmwN+60SMM}]Dr~zTLfz"],[1,"myo6o=m?{,7p(A;}c(7."],[0,"\">sendDi"]],"start1":6898,"start2":6898,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"pmwN+60SMM}]Dr~zTLfz"],[1,"myo6o=m?{,7p(A;}c(7."],[0,"\">se"]],"start1":7234,"start2":7234,"length1":28,"length2":28},{"diffs":[[0,"/block><"],[1,"block type=\"device_forever\" x=\"398\" y=\"114\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"zAVyJ)@AmU692qa4Qltn\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"sendData\" functionid=\"4|s1AETe`T~.cVwb[#^(\"></mutation><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"r/i/:2K@i]+hJ)N|@-E(\"></mutation></block></next></block></next></block></statement></block><"],[0,"/xml>"]],"start1":7372,"start2":7372,"length1":13,"length2":695}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0," // "],[-1,"读取串口数据并转换为数字\n    direction = parseFloat("],[1,"?????????\n    // ????\n    receivedData = "],[0,"seri"]],"start1":355,"start2":355,"length1":48,"length2":49},{"diffs":[[0,"read"],[-1,"Line"],[1,"String"],[0,"()"],[-1,")"],[0,"\n    // "],[-1,"根据接收到的数字显示相应的箭头"],[1,"???????????????"],[0,"\n   "]],"start1":407,"start2":407,"length1":38,"length2":39},{"diffs":[[0,"if ("],[-1,"di"],[0,"rec"],[-1,"tion == 0) {\n        // 前进\n        basic.showArrow(ArrowNames.North)"],[1,"eivedData == \"forward\") {\n        direction = 1"],[0,"\n   "]],"start1":447,"start2":447,"length1":81,"length2":58},{"diffs":[[0,"if ("],[-1,"di"],[0,"rec"],[-1,"tion == 1) {\n        // 向左\n        basic.showArrow(ArrowNames.West)"],[1,"eivedData == \"back\") {\n        direction = 2"],[0,"\n   "]],"start1":513,"start2":513,"length1":80,"length2":55},{"diffs":[[0,"if ("],[-1,"di"],[0,"rec"],[-1,"tion == 2) {\n        // 向右\n        basic.showArrow(ArrowNames.East)"],[1,"eivedData == \"left\") {\n        direction = 3"],[0,"\n   "]],"start1":576,"start2":576,"length1":80,"length2":55},{"diffs":[[0,"if ("],[-1,"di"],[0,"rec"],[-1,"tion == 3) {\n        // 后退"],[1,"eivedData == \"right\") {\n        direction = 4"],[0,"\n    "],[1,"}\n"],[0,"    "]],"start1":639,"start2":639,"length1":44,"length2":63},{"diffs":[[0,"show"],[-1,"Arrow(ArrowNames.South)\n    } else {\n        // 清除屏幕\n        basic.clearScreen()\n    }\n}"],[1,"String(receivedData)\n}\nlet receivedData = \"\""],[0,"\nlet"]],"start1":708,"start2":708,"length1":96,"length2":52}]}]},{"timestamp":1727350878532,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0," x=\""],[1,"2"],[0,"0\" y=\""],[1,"2"],[0,"0\"><"]],"start1":333,"start2":333,"length1":14,"length2":16},{"diffs":[[0,"></block><block "],[1,"type=\"device_forever\" x=\"369\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NI6_04w+O{r[0tmx9K7F\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"sendData\" functionid=\"U|$}DHQF,y6h066J+Nl(\"></mutation><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"ZxYcMg#B@b[fw:@O.5zL\"></mutation></block></next></block></next></block></statement></block><block "],[0,"type=\"function_d"]],"start1":923,"start2":923,"length1":32,"length2":713},{"diffs":[[0,"x=\"8"],[1,"4"],[0,"0"],[-1,"7"],[0,"\" y=\""],[-1,"-29"],[1,"20"],[0,"\"><m"]],"start1":1647,"start2":1647,"length1":18,"length2":17},{"diffs":[[0,"x=\"1"],[-1,"368"],[1,"401"],[0,"\" y=\""],[-1,"-29"],[1,"20"],[0,"\"><m"]],"start1":5129,"start2":5129,"length1":19,"length2":18},{"diffs":[[0,"ck><"],[-1,"block type=\"device_forever\" x=\"396\" y=\"74\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NI6_04w+O{r[0tmx9K7F\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"sendData\" functionid=\"U|$}DHQF,y6h066J+Nl(\"></mutation><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"ZxYcMg#B@b[fw:@O.5zL\"></mutation></block></next></block></next></block></statement></block><"],[0,"/xml"]],"start1":7790,"start2":7790,"length1":689,"length2":8}]}]},{"timestamp":1727353612667,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":387,"start2":387,"length1":17,"length2":21}]}]},{"timestamp":1727353615935,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"UNet0hc!!ge|WU-K_wv5"],[1,"NI6_04w+O{r[0tmx9K7F"],[0,"\">distan"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"7`*hskoL5pcn4pFw9p6;"],[1,"pmwN+60SMM}]Dr~zTLfz"],[0,"\">sendDi"]],"start1":127,"start2":127,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"Mi]qfUrz=Z03$ket%A)R"],[1,"xhpPeDdXFIWnCKOGFE!]"],[0,"\">direct"]],"start1":186,"start2":186,"length1":36,"length2":36},{"diffs":[[0,"riable><"],[1,"variable id=\"Ce1J~J]C5%cL~(5@}U/q\">receivedData</variable><"],[0,"/variabl"]],"start1":229,"start2":229,"length1":16,"length2":75},{"diffs":[[0," x=\""],[-1,"2"],[0,"0\" y=\""],[-1,"2"],[0,"0\"><"]],"start1":333,"start2":333,"length1":16,"length2":14},{"diffs":[[0,"b\"><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Set up serial communication to USB or pins</comment><"],[0,"next"]],"start1":406,"start2":406,"length1":99,"length2":8},{"diffs":[[0,"AR\" id=\""],[-1,"7`*hskoL5pcn4pFw9p6;"],[1,"pmwN+60SMM}]Dr~zTLfz"],[0,"\">sendDi"]],"start1":457,"start2":457,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"Mi]qfUrz=Z03$ket%A)R"],[1,"xhpPeDdXFIWnCKOGFE!]"],[0,"\">direct"]],"start1":646,"start2":646,"length1":36,"length2":36},{"diffs":[[0,"pe=\""],[-1,"device_forever\" x=\"369\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Main loop</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"UNet0hc!!ge|WU-K_wv5\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"sendData\" functionid=\"#Ff8YsJ1B)#^$Gv6%DT6\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Send obstacle data to Raspberry Pi</comment><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"AO-^3B5Dl/b3`c^Sb8`Y\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Receive movement direction from Raspberry Pi</comment><next><block type=\"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"840\" y=\"20\"><mutation name=\"receiveData\" functionid=\"AO-^3B5Dl/b3`c^Sb8`Y\"></mutation><field name=\"function_name\">receiveData</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to receive directions from Raspberry Pi and control motors</comment"],[1,"function_definition\" x=\"807\" y=\"-29\"><mutation name=\"receiveData\" functionid=\"ZxYcMg#B@b[fw:@O.5zL\"></mutation><field name=\"function_name\">receiveData</field"],[0,"><st"]],"start1":939,"start2":939,"length1":1380,"length2":165},{"diffs":[[0,"AR\" id=\""],[-1,"Mi]qfUrz=Z03$ket%A)R"],[1,"xhpPeDdXFIWnCKOGFE!]"],[0,"\">direct"]],"start1":1167,"start2":1167,"length1":36,"length2":36},{"diffs":[[0,"60\">"],[-1,"Read direction value from Pi"],[1,"读取串口数据并转换为数字"],[0,"</co"]],"start1":1249,"start2":1249,"length1":36,"length2":20},{"diffs":[[0,"\"1\"></mutation><"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">根据接收到的数字显示相应的箭头</comment><"],[0,"value name=\"IF0\""]],"start1":1530,"start2":1530,"length1":32,"length2":96},{"diffs":[[0,"AR\" id=\""],[-1,"Mi]qfUrz=Z03$ket%A)R"],[1,"xhpPeDdXFIWnCKOGFE!]"],[0,"\">direct"]],"start1":1872,"start2":1872,"length1":36,"length2":36},{"diffs":[[0,"60\">"],[-1,"Move forward"],[1,"前进"],[0,"</co"]],"start1":2126,"start2":2126,"length1":20,"length2":10},{"diffs":[[0,"ue><"],[-1,"next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Left motor forward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Right motor forward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P8</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value></block></next></block></next><"],[0,"/blo"]],"start1":2244,"start2":2244,"length1":781,"length2":8},{"diffs":[[0,"AR\" id=\""],[-1,"Mi]qfUrz=Z03$ket%A)R"],[1,"xhpPeDdXFIWnCKOGFE!]"],[0,"\">direct"]],"start1":2530,"start2":2530,"length1":36,"length2":36},{"diffs":[[0,"60\">"],[-1,"Turn left"],[1,"向左"],[0,"</co"]],"start1":2784,"start2":2784,"length1":17,"length2":10},{"diffs":[[0,"ue><"],[-1,"next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Left motor stop</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Right motor forward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P8</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value></block></next></block></next><"],[0,"/blo"]],"start1":2901,"start2":2901,"length1":778,"length2":8},{"diffs":[[0,"AR\" id=\""],[-1,"Mi]qfUrz=Z03$ket%A)R"],[1,"xhpPeDdXFIWnCKOGFE!]"],[0,"\">direct"]],"start1":3187,"start2":3187,"length1":36,"length2":36},{"diffs":[[0,"60\">"],[-1,"Turn right"],[1,"向右"],[0,"</co"]],"start1":3441,"start2":3441,"length1":18,"length2":10},{"diffs":[[0,"ue><"],[-1,"next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Left motor forward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Right motor stop</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P8</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value></block></next></block></next><"],[0,"/blo"]],"start1":3558,"start2":3558,"length1":778,"length2":8},{"diffs":[[0,"id=\""],[-1,"Mi]qfUrz=Z03$ket%A)R"],[1,"xhpPeDdXFIWnCKOGFE!]"],[0,"\">di"]],"start1":3848,"start2":3848,"length1":28,"length2":28},{"diffs":[[0,"60\">"],[-1,"Move backward"],[1,"后退"],[0,"</co"]],"start1":4098,"start2":4098,"length1":21,"length2":10},{"diffs":[[0,"ue><"],[-1,"next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Left motor backward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Right motor backward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P8</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop motors</comment><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop left motor</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop right motor</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P8</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"1\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value></block></next></block></nex"],[1,"/block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">清除屏幕</commen"],[0,"t></"]],"start1":4216,"start2":4216,"length1":1685,"length2":136},{"diffs":[[0,"x=\"1"],[-1,"401"],[1,"368"],[0,"\" y=\""],[-1,"20"],[1,"-29"],[0,"\"><m"]],"start1":4447,"start2":4447,"length1":18,"length2":19},{"diffs":[[0,"id=\""],[-1,"#Ff8YsJ1B)#^$Gv6%DT6"],[1,"U|$}DHQF,y6h066J+Nl("],[0,"\"></"]],"start1":4498,"start2":4498,"length1":28,"length2":28},{"diffs":[[0,"ld><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Function to send distance to Raspberry Pi if obstacle detected</comment><"],[0,"stat"]],"start1":4576,"start2":4576,"length1":119,"length2":8},{"diffs":[[0,"id=\""],[-1,"UNet0hc!!ge|WU-K_wv5"],[1,"NI6_04w+O{r[0tmx9K7F"],[0,"\">di"]],"start1":4926,"start2":4926,"length1":28,"length2":28},{"diffs":[[0,"f\"><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Obstacle within 50cm</comment><"],[0,"valu"]],"start1":5134,"start2":5134,"length1":77,"length2":8},{"diffs":[[0,"AR\" id=\""],[-1,"7`*hskoL5pcn4pFw9p6;"],[1,"pmwN+60SMM}]Dr~zTLfz"],[0,"\">sendDi"]],"start1":5400,"start2":5400,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"7`*hskoL5pcn4pFw9p6;"],[1,"pmwN+60SMM}]Dr~zTLfz"],[0,"\">sendDi"]],"start1":5633,"start2":5633,"length1":36,"length2":36},{"diffs":[[0,"e\"><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Send \"1\" if obstacle</comment><"],[0,"valu"]],"start1":5809,"start2":5809,"length1":77,"length2":8},{"diffs":[[0,"AR\" id=\""],[-1,"7`*hskoL5pcn4pFw9p6;"],[1,"pmwN+60SMM}]Dr~zTLfz"],[0,"\">sendDi"]],"start1":5965,"start2":5965,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"7`*hskoL5pcn4pFw9p6;"],[1,"pmwN+60SMM}]Dr~zTLfz"],[0,"\">sendDi"]],"start1":6398,"start2":6398,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"7`*hskoL5pcn4pFw9p6;"],[1,"pmwN+60SMM}]Dr~zTLfz"],[0,"\">sendDi"]],"start1":6631,"start2":6631,"length1":36,"length2":36},{"diffs":[[0,"e\"><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Send \"0\" if clear</comment><"],[0,"valu"]],"start1":6807,"start2":6807,"length1":74,"length2":8},{"diffs":[[0,"id=\""],[-1,"7`*hskoL5pcn4pFw9p6;"],[1,"pmwN+60SMM}]Dr~zTLfz"],[0,"\">se"]],"start1":6967,"start2":6967,"length1":28,"length2":28},{"diffs":[[0,"/block><"],[1,"block type=\"device_forever\" x=\"396\" y=\"74\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"NI6_04w+O{r[0tmx9K7F\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"sendData\" functionid=\"U|$}DHQF,y6h066J+Nl(\"></mutation><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"ZxYcMg#B@b[fw:@O.5zL\"></mutation></block></next></block></next></block></statement></block><"],[0,"/xml>"]],"start1":7105,"start2":7105,"length1":13,"length2":694}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"// Function to send distance to Raspberry Pi if obstacle detected\n"],[0,"func"]],"start1":0,"start2":0,"length1":70,"length2":4},{"diffs":[[0,") {\n"],[-1,"        // Obstacle within 50cm\n"],[0,"    "]],"start1":45,"start2":45,"length1":40,"length2":8},{"diffs":[[0,"= 1\n"],[-1,"            // Send \"1\" if obstacle\n"],[0,"    "]],"start1":107,"start2":107,"length1":44,"length2":8},{"diffs":[[0,"= 0\n"],[-1,"            // Send \"0\" if clear\n"],[0,"    "]],"start1":248,"start2":248,"length1":41,"length2":8},{"diffs":[[0,"}\n}\n"],[-1,"// Function to receive directions from Raspberry Pi and control motors\n"],[0,"func"]],"start1":322,"start2":322,"length1":79,"length2":8},{"diffs":[[0," // "],[-1,"Read direction value from Pi"],[1,"读取串口数据并转换为数字"],[0,"\n   "]],"start1":355,"start2":355,"length1":36,"length2":20},{"diffs":[[0,"Line())\n"],[1,"    // 根据接收到的数字显示相应的箭头\n"],[0,"    if ("]],"start1":410,"start2":410,"length1":16,"length2":39},{"diffs":[[0," // "],[-1,"Move forward"],[1,"前进"],[0,"\n   "]],"start1":474,"start2":474,"length1":20,"length2":10},{"diffs":[[0,"th)\n"],[-1,"        // Left motor forward\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        // Right motor forward\n        pins.digitalWritePin(DigitalPin.P8, 1)\n"],[0,"    "]],"start1":519,"start2":519,"length1":163,"length2":8},{"diffs":[[0," // "],[-1,"Turn left"],[1,"向左"],[0,"\n   "]],"start1":563,"start2":563,"length1":17,"length2":10},{"diffs":[[0,"st)\n"],[-1,"        // Left motor stop\n        pins.digitalWritePin(DigitalPin.P2, 0)\n        // Right motor forward\n        pins.digitalWritePin(DigitalPin.P8, 1)\n"],[0,"    "]],"start1":607,"start2":607,"length1":160,"length2":8},{"diffs":[[0," // "],[-1,"Turn right"],[1,"向右"],[0,"\n   "]],"start1":651,"start2":651,"length1":18,"length2":10},{"diffs":[[0,"st)\n"],[-1,"        // Left motor forward\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        // Right motor stop\n        pins.digitalWritePin(DigitalPin.P8, 0)\n"],[0,"    "]],"start1":695,"start2":695,"length1":160,"length2":8},{"diffs":[[0," // "],[-1,"Move backward"],[1,"后退"],[0,"\n   "]],"start1":739,"start2":739,"length1":21,"length2":10},{"diffs":[[0,"th)\n"],[-1,"        // Left motor backward\n        pins.digitalWritePin(DigitalPin.P2, 0)\n        // Right motor backward\n        pins.digitalWritePin(DigitalPin.P8, 0)\n"],[0,"    "]],"start1":784,"start2":784,"length1":165,"length2":8},{"diffs":[[0," // "],[-1,"Stop motors"],[1,"清除屏幕"],[0,"\n   "]],"start1":808,"start2":808,"length1":19,"length2":12},{"diffs":[[0,"n()\n"],[-1,"        // Stop left motor\n        pins.digitalWritePin(DigitalPin.P2, 0)\n        // Stop right motor\n        pins.digitalWritePin(DigitalPin.P8, 0)\n"],[0,"    "]],"start1":841,"start2":841,"length1":157,"length2":8},{"diffs":[[0,"= 0\n"],[-1,"// Set up serial communication to USB or pins\n"],[0,"seri"]],"start1":905,"start2":905,"length1":54,"length2":8},{"diffs":[[0,"es)\n"],[-1,"// Main loop\n"],[0,"basi"]],"start1":989,"start2":989,"length1":21,"length2":8},{"diffs":[[0,"    "],[-1,"// Send obstacle data to Raspberry Pi\n    sendData()\n    // Receive movement direction from Raspberry Pi\n    receiveData()\n    basic.pause(200"],[1,"sendData()\n    receiveData("],[0,")\n})"]],"start1":1118,"start2":1118,"length1":150,"length2":35}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"\": \""],[-1,"FYP"],[1,"RaspberryPi - 复制"],[0,"\",\n "]],"start1":11,"start2":11,"length1":11,"length2":24},{"diffs":[[0,"itor\": \""],[-1,"block"],[1,"t"],[0,"sprj\"\n}\n"]],"start1":392,"start2":392,"length1":21,"length2":17}]}]},{"timestamp":1727354213035,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"pe=\""],[-1,"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field"],[1,"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Left motor forward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value"],[0,"><va"]],"start1":3473,"start2":3473,"length1":124,"length2":207},{"diffs":[[0,"ue><value name=\""],[-1,"speed1"],[1,"value"],[0,"\"><shadow type=\""]],"start1":3674,"start2":3674,"length1":38,"length2":37},{"diffs":[[0,"in=\""],[-1,"-255"],[1,"0"],[0,"\" max=\""],[-1,"255\" label=\"Speed"],[0,"1\" p"]],"start1":3742,"start2":3742,"length1":36,"length2":16},{"diffs":[[0," name=\"SLIDER\">1"],[-1,"50"],[0,"</field></shadow"]],"start1":3788,"start2":3788,"length1":34,"length2":32},{"diffs":[[0,"/value><"],[-1,"value name=\"speed2"],[1,"next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Right motor forward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P8</field></shadow></value><value name=\"value"],[0,"\"><shado"]],"start1":3822,"start2":3822,"length1":34,"length2":253},{"diffs":[[0,"in=\""],[-1,"-255"],[1,"0"],[0,"\" max=\""],[-1,"255\" label=\"Speed2"],[1,"1"],[0,"\" pr"]],"start1":4114,"start2":4114,"length1":37,"length2":17},{"diffs":[[0," name=\"SLIDER\">1"],[-1,"50"],[0,"</field></shadow"]],"start1":4160,"start2":4160,"length1":34,"length2":32},{"diffs":[[0,"/next></block></"],[1,"next></block></"],[0,"statement><value"]],"start1":4210,"start2":4210,"length1":32,"length2":47},{"diffs":[[0,"pe=\""],[-1,"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field"],[1,"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Left motor stop</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value"],[0,"><va"]],"start1":4910,"start2":4910,"length1":124,"length2":204},{"diffs":[[0,"ue><value name=\""],[-1,"speed1"],[1,"value"],[0,"\"><shadow type=\""]],"start1":5108,"start2":5108,"length1":38,"length2":37},{"diffs":[[0,"in=\""],[-1,"-255"],[1,"0"],[0,"\" max=\""],[-1,"255\" label=\"Speed"],[0,"1\" p"]],"start1":5176,"start2":5176,"length1":36,"length2":16},{"diffs":[[0,"/value><"],[-1,"value name=\"speed2"],[1,"next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Right motor forward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P8</field></shadow></value><value name=\"value"],[0,"\"><shado"]],"start1":5256,"start2":5256,"length1":34,"length2":253},{"diffs":[[0,"in=\""],[-1,"-255"],[1,"0"],[0,"\" max=\""],[-1,"255\" label=\"Speed2"],[1,"1"],[0,"\" pr"]],"start1":5548,"start2":5548,"length1":37,"length2":17},{"diffs":[[0," name=\"SLIDER\">1"],[-1,"50"],[0,"</field></shadow"]],"start1":5594,"start2":5594,"length1":34,"length2":32},{"diffs":[[0,"/next></block></"],[1,"next></block></"],[0,"statement><value"]],"start1":5644,"start2":5644,"length1":32,"length2":47},{"diffs":[[0,"pe=\""],[-1,"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field"],[1,"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Left motor forward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value"],[0,"><va"]],"start1":6345,"start2":6345,"length1":124,"length2":207},{"diffs":[[0,"ue><value name=\""],[-1,"speed1"],[1,"value"],[0,"\"><shadow type=\""]],"start1":6546,"start2":6546,"length1":38,"length2":37},{"diffs":[[0,"in=\""],[-1,"-255"],[1,"0"],[0,"\" max=\""],[-1,"255\" label=\"Speed"],[0,"1\" p"]],"start1":6614,"start2":6614,"length1":36,"length2":16},{"diffs":[[0,"LIDER\">1"],[-1,"50"],[0,"</field>"]],"start1":6668,"start2":6668,"length1":18,"length2":16},{"diffs":[[0,"/value><"],[-1,"value name=\"speed2"],[1,"next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Right motor stop</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P8</field></shadow></value><value name=\"value"],[0,"\"><shado"]],"start1":6694,"start2":6694,"length1":34,"length2":250},{"diffs":[[0,"in=\""],[-1,"-255"],[1,"0"],[0,"\" max=\""],[-1,"255\" label=\"Speed2"],[1,"1"],[0,"\" pr"]],"start1":6983,"start2":6983,"length1":37,"length2":17},{"diffs":[[0,"/next></block></"],[1,"next></block></"],[0,"statement><value"]],"start1":7079,"start2":7079,"length1":32,"length2":47},{"diffs":[[0,"pe=\""],[-1,"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field"],[1,"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Left motor backward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value"],[0,"><va"]],"start1":7784,"start2":7784,"length1":124,"length2":208},{"diffs":[[0,"ue><value name=\""],[-1,"speed1"],[1,"value"],[0,"\"><shadow type=\""]],"start1":7986,"start2":7986,"length1":38,"length2":37},{"diffs":[[0,"in=\""],[-1,"-255"],[1,"0"],[0,"\" max=\""],[-1,"255\" label=\"Speed"],[0,"1\" p"]],"start1":8054,"start2":8054,"length1":36,"length2":16},{"diffs":[[0,"/value><"],[-1,"value name=\"speed2"],[1,"next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Right motor backward</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P8</field></shadow></value><value name=\"value"],[0,"\"><shado"]],"start1":8134,"start2":8134,"length1":34,"length2":254},{"diffs":[[0,"in=\""],[-1,"-255"],[1,"0"],[0,"\" max=\""],[-1,"255\" label=\"Speed2"],[1,"1"],[0,"\" pr"]],"start1":8427,"start2":8427,"length1":37,"length2":17},{"diffs":[[0,"/next></block></"],[1,"next></block></"],[0,"statement><state"]],"start1":8523,"start2":8523,"length1":32,"length2":47},{"diffs":[[0,"pe=\""],[-1,"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field"],[1,"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop left motor</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P2</field></shadow></value"],[0,"><va"]],"start1":8697,"start2":8697,"length1":124,"length2":204},{"diffs":[[0,"me=\""],[-1,"speed1"],[1,"value"],[0,"\"><s"]],"start1":8907,"start2":8907,"length1":14,"length2":13},{"diffs":[[0,"in=\""],[-1,"-255"],[1,"0"],[0,"\" max=\""],[-1,"255\" label=\"Speed"],[0,"1\" p"]],"start1":8963,"start2":8963,"length1":36,"length2":16},{"diffs":[[0,"ue><"],[-1,"value name=\"speed2"],[1,"next><block type=\"device_set_digital_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop right motor</comment><value name=\"name\"><shadow type=\"digital_pin_shadow\"><field name=\"pin\">DigitalPin.P8</field></shadow></value><value name=\"value"],[0,"\"><s"]],"start1":9047,"start2":9047,"length1":26,"length2":242},{"diffs":[[0,"in=\""],[-1,"-255"],[1,"0"],[0,"\" max=\""],[-1,"255\" label=\"Speed2"],[1,"1"],[0,"\" pr"]],"start1":9332,"start2":9332,"length1":37,"length2":17},{"diffs":[[0,"/next></block></"],[1,"next></block></"],[0,"statement></bloc"]],"start1":9428,"start2":9428,"length1":32,"length2":47}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"    "],[-1,"robotbit.MotorRunDual(\n        robotbit.Motors.M1A,\n        150,\n        robotbit.Motors.M1B,\n        150\n        "],[1,"// Left motor forward\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        // Right motor forward\n        pins.digitalWritePin(DigitalPin.P8, 1"],[0,")\n  "]],"start1":768,"start2":768,"length1":122,"length2":153},{"diffs":[[0,"    "],[-1,"robotbit.MotorRunDual(\n        robotbit.Motors.M1A,\n        0,"],[1,"// Left motor stop\n        pins.digitalWritePin(DigitalPin.P2, 0)"],[0,"\n   "]],"start1":1018,"start2":1018,"length1":70,"length2":73},{"diffs":[[0,"    "],[-1,"robotbit.Motors.M1B,\n        150\n        "],[1,"// Right motor forward\n        pins.digitalWritePin(DigitalPin.P8, 1"],[0,")\n  "]],"start1":1092,"start2":1092,"length1":49,"length2":76},{"diffs":[[0,"    "],[-1,"robotbit.MotorRunDual(\n        robotbit.Motors.M1A,\n        150,\n        robotbit.Motors.M1B,\n        0\n        "],[1,"// Left motor forward\n        pins.digitalWritePin(DigitalPin.P2, 1)\n        // Right motor stop\n        pins.digitalWritePin(DigitalPin.P8, 0"],[0,")\n  "]],"start1":1266,"start2":1266,"length1":120,"length2":150},{"diffs":[[0,"    "],[-1,"robotbit.MotorRunDual(\n        robotbit.Motors.M1A,\n        0,"],[1,"// Left motor backward\n        pins.digitalWritePin(DigitalPin.P2, 0)"],[0,"\n   "]],"start1":1518,"start2":1518,"length1":70,"length2":77},{"diffs":[[0,"    "],[-1,"robotbit.Motors.M1B,\n        0\n        "],[1,"// Right motor backward\n        pins.digitalWritePin(DigitalPin.P8, 0"],[0,")\n  "]],"start1":1596,"start2":1596,"length1":47,"length2":77},{"diffs":[[0,"    "],[-1,"robotbit.MotorRunDual(\n        robotbit.Motors.M1A,\n        0,\n        robotbit.Motors.M1B,\n        0\n        "],[1,"// Stop left motor\n        pins.digitalWritePin(DigitalPin.P2, 0)\n        // Stop right motor\n        pins.digitalWritePin(DigitalPin.P8, 0"],[0,")\n  "]],"start1":1739,"start2":1739,"length1":118,"length2":147}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":379,"start2":379,"length1":17,"length2":21}]}]},{"timestamp":1727354750434,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"!:EE[gDYcS=*PRr|eJt["],[1,"UNet0hc!!ge|WU-K_wv5"],[0,"\">distan"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"b`=H35JLuLG^ZHxHMY.5"],[1,"7`*hskoL5pcn4pFw9p6;"],[0,"\">sendDi"]],"start1":127,"start2":127,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"YD/kBt30q)tC!ZkJq?;x\">receivedData</variable><variable id=\"~[h^vm..swel9cc,:llt"],[1,"Mi]qfUrz=Z03$ket%A)R"],[0,"\">di"]],"start1":190,"start2":190,"length1":87,"length2":28},{"diffs":[[0,"n to USB"],[1," or pins"],[0,"</commen"]],"start1":417,"start2":417,"length1":16,"length2":24},{"diffs":[[0,"nt><next><block "],[1,"type=\"variables_set\"><field name=\"VAR\" id=\"7`*hskoL5pcn4pFw9p6;\">sendDistance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Mi]qfUrz=Z03$ket%A)R\">direction</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block "],[0,"type=\"basic_show"]],"start1":440,"start2":440,"length1":32,"length2":407},{"diffs":[[0,"/next></block></"],[1,"next></block></next></block></"],[0,"statement></bloc"]],"start1":900,"start2":900,"length1":32,"length2":62},{"diffs":[[0," x=\""],[-1,"267"],[1,"369"],[0,"\" y="]],"start1":992,"start2":992,"length1":11,"length2":11},{"diffs":[[0,"id=\""],[-1,"!:EE[gDYcS=*PRr|eJt[\">distance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Measure distance using sonar sensor</comment"],[1,"UNet0hc!!ge|WU-K_wv5\">distance</field"],[0,"><va"]],"start1":1138,"start2":1138,"length1":129,"length2":45},{"diffs":[[0,"tionid=\""],[-1,"CI+C~P5*8}ot@n5cnf;V"],[1,"#Ff8YsJ1B)#^$Gv6%DT6"],[0,"\"></muta"]],"start1":1496,"start2":1496,"length1":36,"length2":36},{"diffs":[[0,"tionid=\""],[-1,"=NRrdL;1J_vpC!aAi_;c"],[1,"AO-^3B5Dl/b3`c^Sb8`Y"],[0,"\"></muta"]],"start1":1687,"start2":1687,"length1":36,"length2":36},{"diffs":[[0,"pe=\""],[-1,"function_call\"><mutation name=\"controlMotors\" functionid=\"LOg^30bQX=i%,3]qo79X\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Control motors based on both distance and received direction</comment><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">Pause for a short interval to avoid overloading communication</comment"],[1,"device_pause\"><data>{\"commentRefs\":[],\"fieldData\":{}}</data"],[0,"><va"]],"start1":1836,"start2":1836,"length1":350,"length2":67},{"diffs":[[0,"t></block></"],[-1,"next></block></"],[0,"statement></"]],"start1":2034,"start2":2034,"length1":39,"length2":24},{"diffs":[[0," x=\""],[-1,"749"],[1,"840"],[0,"\" y="]],"start1":2097,"start2":2097,"length1":11,"length2":11},{"diffs":[[0,"n name=\""],[-1,"controlMotors"],[1,"receiveData"],[0,"\" functi"]],"start1":2121,"start2":2121,"length1":29,"length2":27},{"diffs":[[0,"id=\""],[-1,"LOg^30bQX=i%,3]qo79X"],[1,"AO-^3B5Dl/b3`c^Sb8`Y"],[0,"\"></"]],"start1":2150,"start2":2150,"length1":28,"length2":28},{"diffs":[[0,"me\">"],[-1,"controlMotors"],[1,"receiveData"],[0,"</fi"]],"start1":2211,"start2":2211,"length1":21,"length2":19},{"diffs":[[0," to "],[-1,"control motors based on direction and distance</comment><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"!:EE[gDYcS=*PRr|eJt[\">distance</field></block></value"],[1,"receive directions from Raspberry Pi and control motors</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Mi]qfUrz=Z03$ket%A)R\">direction</field><comment pinned=\"false\" h=\"80\" w=\"160\">Read direction value from Pi</comment"],[0,"><va"]],"start1":2281,"start2":2281,"length1":468,"length2":262},{"diffs":[[0,"nt><value name=\""],[-1,"B"],[1,"VALUE"],[0,"\"><shadow type=\""]],"start1":2537,"start2":2537,"length1":33,"length2":37},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"50"],[0,"0</field></shado"]],"start1":2589,"start2":2589,"length1":34,"length2":32},{"diffs":[[0,"ow><"],[-1,"/value></block></value><statement name=\"DO0\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">If obstacle is too close, stop or turn</comment><n"],[1,"block type=\"string_parsefloat\"><value name=\"t"],[0,"ext"],[1,"\""],[0,"><bl"]],"start1":2620,"start2":2620,"length1":211,"length2":57},{"diffs":[[0,"pe=\""],[-1,"robotbit_stop_all\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop motors</comment"],[1,"serial_read_line\""],[0,"></b"]],"start1":2683,"start2":2683,"length1":86,"length2":25},{"diffs":[[0,"line\"></block></"],[-1,"next"],[1,"value"],[0,"></block></state"]],"start1":2699,"start2":2699,"length1":36,"length2":37},{"diffs":[[0,"k></"],[-1,"statement><statement name=\"ELSE\""],[1,"value><next"],[0,"><bl"]],"start1":2727,"start2":2727,"length1":40,"length2":19},{"diffs":[[0,"on><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Control motors based on direction received from Raspberry Pi</comment><"],[0,"valu"]],"start1":2807,"start2":2807,"length1":117,"length2":8},{"diffs":[[0,"AR\" id=\""],[-1,"~[h^vm..swel9cc,:llt"],[1,"Mi]qfUrz=Z03$ket%A)R"],[0,"\">direct"]],"start1":3073,"start2":3073,"length1":36,"length2":36},{"diffs":[[0,"\"-255\" max=\"255\""],[1," label=\"Speed1\""],[0," precision=\"0\"><"]],"start1":3663,"start2":3663,"length1":32,"length2":47},{"diffs":[[0,"\"-255\" max=\"255\""],[1," label=\"Speed2\""],[0," precision=\"0\"><"]],"start1":3838,"start2":3838,"length1":32,"length2":47},{"diffs":[[0,"AR\" id=\""],[-1,"~[h^vm..swel9cc,:llt"],[1,"Mi]qfUrz=Z03$ket%A)R"],[0,"\">direct"]],"start1":4242,"start2":4242,"length1":36,"length2":36},{"diffs":[[0,"\"-255\" max=\"255\""],[1," label=\"Speed1\""],[0," precision=\"0\"><"]],"start1":4828,"start2":4828,"length1":32,"length2":47},{"diffs":[[0,"\"-255\" max=\"255\""],[1," label=\"Speed2\""],[0," precision=\"0\"><"]],"start1":5001,"start2":5001,"length1":32,"length2":47},{"diffs":[[0,"AR\" id=\""],[-1,"~[h^vm..swel9cc,:llt"],[1,"Mi]qfUrz=Z03$ket%A)R"],[0,"\">direct"]],"start1":5405,"start2":5405,"length1":36,"length2":36},{"diffs":[[0,"\"-255\" max=\"255\""],[1," label=\"Speed1\""],[0," precision=\"0\"><"]],"start1":5992,"start2":5992,"length1":32,"length2":47},{"diffs":[[0,"\"-255\" max=\"255\""],[1," label=\"Speed2\""],[0," precision=\"0\"><"]],"start1":6167,"start2":6167,"length1":32,"length2":47},{"diffs":[[0,"AR\" id=\""],[-1,"~[h^vm..swel9cc,:llt"],[1,"Mi]qfUrz=Z03$ket%A)R"],[0,"\">direct"]],"start1":6569,"start2":6569,"length1":36,"length2":36},{"diffs":[[0,"\"-255\" max=\"255\""],[1," label=\"Speed1\""],[0," precision=\"0\"><"]],"start1":7160,"start2":7160,"length1":32,"length2":47},{"diffs":[[0,"d name=\"SLIDER\">"],[-1,"-15"],[0,"0</field></shado"]],"start1":7222,"start2":7222,"length1":35,"length2":32},{"diffs":[[0,"ax=\"255\""],[1," label=\"Speed2\""],[0," precisi"]],"start1":7341,"start2":7341,"length1":16,"length2":31},{"diffs":[[0,"ER\">"],[-1,"-15"],[0,"0</f"]],"start1":7407,"start2":7407,"length1":11,"length2":8},{"diffs":[[0,"tors"],[-1," if no valid direction is received"],[0,"</co"]],"start1":7576,"start2":7576,"length1":42,"length2":8},{"diffs":[[0,"bit_"],[-1,"stop_"],[1,"motor_du"],[0,"al"],[-1,"l"],[0,"\"><"],[-1,"/block></next></block></statement></block></statement></block></statement></block><block type=\"function_definition\" x=\"1264\" y=\"20\"><mutation name=\"receiveData\" functionid=\"=NRrdL;1J_vpC!aAi_;c\"></mutation><field name=\"function_name\">receiveData</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to receive directions from Raspberry Pi and control motors</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"YD/kBt30q)tC!ZkJq?;x\">receivedData</field><comment pinned=\"false\" h=\"80\" w=\"160\">Read direction data from Raspberry Pi</comment><value name=\"VALUE\"><shadow type=\"math_number\""],[1,"field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed1\" precision=\"0\"></mutation"],[0,"><fi"]],"start1":7614,"start2":7614,"length1":636,"length2":241},{"diffs":[[0,"on><field name=\""],[-1,"NUM"],[1,"SLIDER"],[0,"\">0</field></sha"]],"start1":7849,"start2":7849,"length1":35,"length2":38},{"diffs":[[0,"ow><"],[-1,"block type=\"serial_read_line\"></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"YD/kBt30q)tC!ZkJq?;x\">receivedData</field></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~[h^vm..swel9cc,:llt\">direction</field><comment pinned=\"false\" h=\"80\" w=\"160\">Convert received string to number</comment><value name=\"VALUE\"><shadow type=\"math_number\""],[1,"/value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" label=\"Speed2\" precision=\"0\"></mutation"],[0,"><fi"]],"start1":7888,"start2":7888,"length1":520,"length2":140},{"diffs":[[0,"on><field name=\""],[-1,"NUM"],[1,"SLIDER"],[0,"\">0</field></sha"]],"start1":8022,"start2":8022,"length1":35,"length2":38},{"diffs":[[0,"ow><"],[-1,"block type=\"string_parsefloat\"><value name=\"text\"><block type=\"variables_get\"><field name=\"VAR\" id=\"YD/kBt30q)tC!ZkJq?;x\">receivedData</field></block><"],[0,"/val"]],"start1":8061,"start2":8061,"length1":159,"length2":8},{"diffs":[[0,"value></block></"],[-1,"value"],[1,"next"],[0,"></block></state"]],"start1":8066,"start2":8066,"length1":37,"length2":36},{"diffs":[[0,"x=\"1"],[-1,"864"],[1,"401"],[0,"\" y="]],"start1":8184,"start2":8184,"length1":11,"length2":11},{"diffs":[[0,"id=\""],[-1,"CI+C~P5*8}ot@n5cnf;V"],[1,"#Ff8YsJ1B)#^$Gv6%DT6"],[0,"\"></"]],"start1":8234,"start2":8234,"length1":28,"length2":28},{"diffs":[[0,"istance "],[-1,"data "],[0,"to Raspb"]],"start1":8372,"start2":8372,"length1":21,"length2":16},{"diffs":[[0," Pi "],[-1,"when an"],[1,"if"],[0," obs"]],"start1":8392,"start2":8392,"length1":15,"length2":10},{"diffs":[[0,"bstacle "],[-1,"is "],[0,"detected"]],"start1":8400,"start2":8400,"length1":19,"length2":16},{"diffs":[[0,"id=\""],[-1,"!:EE[gDYcS=*PRr|eJt["],[1,"UNet0hc!!ge|WU-K_wv5"],[0,"\">di"]],"start1":8773,"start2":8773,"length1":28,"length2":28},{"diffs":[[0,"60\">"],[-1,"If o"],[1,"O"],[0,"bstacle "],[-1,"is "],[0,"with"]],"start1":9019,"start2":9019,"length1":23,"length2":17},{"diffs":[[0,"ithin 50"],[-1," "],[0,"cm</comm"]],"start1":9033,"start2":9033,"length1":17,"length2":16},{"diffs":[[0,"AR\" id=\""],[-1,"b`=H35JLuLG^ZHxHMY.5"],[1,"7`*hskoL5pcn4pFw9p6;"],[0,"\">sendDi"]],"start1":9316,"start2":9316,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"b`=H35JLuLG^ZHxHMY.5"],[1,"7`*hskoL5pcn4pFw9p6;"],[0,"\">sendDi"]],"start1":9549,"start2":9549,"length1":36,"length2":36},{"diffs":[[0,"ld><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Only send \"1\" if it's the first time detecting the obstacle</comment><"],[0,"valu"]],"start1":9596,"start2":9596,"length1":116,"length2":8},{"diffs":[[0,"end \"1\" "],[1,"i"],[0,"f"],[-1,"or"],[0," obstacl"]],"start1":9768,"start2":9768,"length1":19,"length2":18},{"diffs":[[0," if obstacle"],[-1," detected"],[0,"</comment><v"]],"start1":9775,"start2":9775,"length1":33,"length2":24},{"diffs":[[0,"AR\" id=\""],[-1,"b`=H35JLuLG^ZHxHMY.5"],[1,"7`*hskoL5pcn4pFw9p6;"],[0,"\">sendDi"]],"start1":9950,"start2":9950,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"b`=H35JLuLG^ZHxHMY.5"],[1,"7`*hskoL5pcn4pFw9p6;"],[0,"\">sendDi"]],"start1":10383,"start2":10383,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"b`=H35JLuLG^ZHxHMY.5"],[1,"7`*hskoL5pcn4pFw9p6;"],[0,"\">sendDi"]],"start1":10616,"start2":10616,"length1":36,"length2":36},{"diffs":[[0,"ld><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Only send \"0\" if obstacle is cleared</comment><"],[0,"valu"]],"start1":10663,"start2":10663,"length1":93,"length2":8},{"diffs":[[0,"\"0\" "],[1,"i"],[0,"f"],[-1,"or"],[0," clear"],[-1," path"],[0,"</co"]],"start1":10839,"start2":10839,"length1":22,"length2":16},{"diffs":[[0,"id=\""],[-1,"b`=H35JLuLG^ZHxHMY.5"],[1,"7`*hskoL5pcn4pFw9p6;"],[0,"\">se"]],"start1":11018,"start2":11018,"length1":28,"length2":28}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"istance "],[-1,"data "],[0,"to Raspb"]],"start1":21,"start2":21,"length1":21,"length2":16},{"diffs":[[0," Pi "],[-1,"when an"],[1,"if"],[0," obs"]],"start1":41,"start2":41,"length1":15,"length2":10},{"diffs":[[0,"bstacle "],[-1,"is "],[0,"detected"]],"start1":49,"start2":49,"length1":19,"length2":16},{"diffs":[[0,"     // "],[-1,"If o"],[1,"O"],[0,"bstacle "],[-1,"is "],[0,"within 5"]],"start1":118,"start2":118,"length1":31,"length2":25},{"diffs":[[0,"ithin 50"],[-1," "],[0,"cm\n     "]],"start1":136,"start2":136,"length1":17,"length2":16},{"diffs":[[0,") {\n"],[-1,"            // Only send \"1\" if it's the first time detecting the obstacle\n"],[0,"    "]],"start1":176,"start2":176,"length1":83,"length2":8},{"diffs":[[0,"end \"1\" "],[1,"i"],[0,"f"],[-1,"or"],[0," obstacl"]],"start1":225,"start2":225,"length1":19,"length2":18},{"diffs":[[0,"obstacle"],[-1," detected"],[0,"\n       "]],"start1":236,"start2":236,"length1":25,"length2":16},{"diffs":[[0,") {\n"],[-1,"            // Only send \"0\" if obstacle is cleared\n"],[0,"    "]],"start1":353,"start2":353,"length1":60,"length2":8},{"diffs":[[0,"\"0\" "],[1,"i"],[0,"f"],[-1,"or"],[0," clear"],[-1," path"],[0,"\n   "]],"start1":406,"start2":406,"length1":22,"length2":16},{"diffs":[[0,"ion "],[-1,"data from Raspberry Pi\n    receivedData = serial.readLine()\n    if (receivedData) {\n        // Convert received string to number\n        direction = parseFloat(receivedData)\n    }\n}\n// Function to control motors based on direction and distance\nfunction controlMotors () {\n    if (distance < 500) {\n        // If obstacle is too close, stop or turn\n        basic.showIcon(IconNames.No)\n        // Stop motors\n        robotbit.MotorStopAll()\n    } else {\n        // Control motors based on direction received from Raspberry Pi\n    "],[1,"value from Pi\n    direction = parseFloat(serial.readLine())\n"],[0,"    "]],"start1":608,"start2":608,"length1":537,"length2":68},{"diffs":[[0,"== 0) {\n        "],[-1,"    "],[0,"// Move forward\n"]],"start1":690,"start2":690,"length1":36,"length2":32},{"diffs":[[0,"forward\n        "],[-1,"    "],[0,"basic.showArrow("]],"start1":714,"start2":714,"length1":36,"length2":32},{"diffs":[[0,".North)\n        "],[-1,"    "],[0,"robotbit.MotorRu"]],"start1":756,"start2":756,"length1":36,"length2":32},{"diffs":[[0,"unDual(\n        "],[-1,"    "],[0,"robotbit.Motors."]],"start1":787,"start2":787,"length1":36,"length2":32},{"diffs":[[0,"rs.M1A,\n        "],[-1,"    "],[0,"150,\n           "]],"start1":816,"start2":816,"length1":36,"length2":32},{"diffs":[[0,"   150,\n        "],[-1,"    "],[0,"robotbit.Motors."]],"start1":829,"start2":829,"length1":36,"length2":32},{"diffs":[[0,"rs.M1B,\n        "],[-1,"    "],[0,"150\n            "]],"start1":858,"start2":858,"length1":36,"length2":32},{"diffs":[[0,"150\n        "],[-1,"    )\n    "],[1,")\n"],[0,"    } else i"]],"start1":874,"start2":874,"length1":34,"length2":26},{"diffs":[[0,"== 1) {\n        "],[-1,"    "],[0,"// Turn left\n   "]],"start1":913,"start2":913,"length1":36,"length2":32},{"diffs":[[0,"rn left\n"],[-1,"    "],[0,"        "]],"start1":934,"start2":934,"length1":20,"length2":16},{"diffs":[[0,"s.West)\n        "],[-1,"    "],[0,"robotbit.MotorRu"]],"start1":975,"start2":975,"length1":36,"length2":32},{"diffs":[[0,"unDual(\n        "],[-1,"    "],[0,"robotbit.Motors."]],"start1":1006,"start2":1006,"length1":36,"length2":32},{"diffs":[[0,"    "],[-1,"    "],[0,"0,\n"],[-1,"    "],[0,"    "]],"start1":1047,"start2":1047,"length1":19,"length2":11},{"diffs":[[0,"1B,\n        "],[-1,"    "],[0,"150\n        "]],"start1":1079,"start2":1079,"length1":28,"length2":24},{"diffs":[[0,"150\n        "],[-1,"    )\n  "],[1,")\n"],[0,"    "],[-1,"  "],[0,"} else if (d"]],"start1":1091,"start2":1091,"length1":38,"length2":30},{"diffs":[[0,") {\n        "],[-1,"    "],[0,"// Turn righ"]],"start1":1134,"start2":1134,"length1":28,"length2":24},{"diffs":[[0,"n right\n        "],[-1,"    "],[0,"basic.showArrow("]],"start1":1152,"start2":1152,"length1":36,"length2":32},{"diffs":[[0,"s.East)\n        "],[-1,"    "],[0,"robotbit.MotorRu"]],"start1":1193,"start2":1193,"length1":36,"length2":32},{"diffs":[[0,"unDual(\n        "],[-1,"    "],[0,"robotbit.Motors."]],"start1":1224,"start2":1224,"length1":36,"length2":32},{"diffs":[[0,"1A,\n        "],[-1,"    "],[0,"150,\n       "]],"start1":1257,"start2":1257,"length1":28,"length2":24},{"diffs":[[0,"   150,\n        "],[-1,"    "],[0,"robotbit.Motors."]],"start1":1266,"start2":1266,"length1":36,"length2":32},{"diffs":[[0,"    "],[-1,"    0\n            )\n    "],[1,"0\n        )\n"],[0,"    "]],"start1":1307,"start2":1307,"length1":32,"length2":20},{"diffs":[[0,") {\n        "],[-1,"    "],[0,"// Move back"]],"start1":1352,"start2":1352,"length1":28,"length2":24},{"diffs":[[0,"ve backward\n"],[-1,"    "],[0,"        basi"]],"start1":1369,"start2":1369,"length1":28,"length2":24},{"diffs":[[0,".South)\n        "],[-1,"    "],[0,"robotbit.MotorRu"]],"start1":1415,"start2":1415,"length1":36,"length2":32},{"diffs":[[0,"unDual(\n        "],[-1,"    "],[0,"robotbit.Motors."]],"start1":1446,"start2":1446,"length1":36,"length2":32},{"diffs":[[0,"    "],[-1,"    -150,\n    "],[1,"0,\n"],[0,"    "]],"start1":1487,"start2":1487,"length1":22,"length2":11},{"diffs":[[0,"    "],[-1,"    -150\n    "],[1,"0\n"],[0,"    "]],"start1":1527,"start2":1527,"length1":21,"length2":10},{"diffs":[[0,"  )\n    "],[-1,"    "],[0,"} else {"]],"start1":1539,"start2":1539,"length1":20,"length2":16},{"diffs":[[0,"   } else {\n"],[-1,"    "],[0,"        // S"]],"start1":1544,"start2":1544,"length1":28,"length2":24},{"diffs":[[0,"tors"],[-1," if no valid direction is received\n            basic.clearScreen()\n            robotbit.MotorStopAll()\n        }"],[1,"\n        basic.clearScreen()\n        robotbit.MotorRunDual(\n        robotbit.Motors.M1A,\n        0,\n        robotbit.Motors.M1B,\n        0\n        )"],[0,"\n   "]],"start1":1574,"start2":1574,"length1":120,"length2":156},{"diffs":[[0,"}\nlet di"],[-1,"rection"],[1,"stance"],[0," = 0\nlet"]],"start1":1733,"start2":1733,"length1":23,"length2":22},{"diffs":[[0,"let "],[1,"di"],[0,"rec"],[-1,"eivedData = \"\""],[1,"tion = 0"],[0,"\nlet"]],"start1":1752,"start2":1752,"length1":25,"length2":21},{"diffs":[[0,"nce = 0\n"],[-1,"let distance = 0\n"],[0,"// Set u"]],"start1":1783,"start2":1783,"length1":33,"length2":16},{"diffs":[[0,"n to USB"],[1," or pins"],[0,"\nserial."]],"start1":1820,"start2":1820,"length1":16,"length2":24},{"diffs":[[0,"ToUSB()\n"],[1,"sendDistance = 0\ndirection = 0\n"],[0,"basic.sh"]],"start1":1852,"start2":1852,"length1":16,"length2":47},{"diffs":[[0,") {\n"],[-1,"    // Measure distance using sonar sensor\n"],[0,"    "]],"start1":1958,"start2":1958,"length1":51,"length2":8},{"diffs":[[0,"a()\n"],[-1,"    // Control motors based on both distance and received direction\n    controlMotors()\n    // Pause for a short interval to avoid overloading communication\n"],[0,"    "]],"start1":2182,"start2":2182,"length1":165,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"block"],[1,"t"],[0,"sprj\"\n}\n"]],"start1":379,"start2":379,"length1":21,"length2":17}]}]},{"timestamp":1727355025342,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"?I$!^|c[)$TpFo%2k9=h"],[1,"!:EE[gDYcS=*PRr|eJt["],[0,"\">distan"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"(n?G|o;D*4#$jsiLqF;U\">receivedData</variable><variable id=\"EGE|)1Bj+?]UW.*jFvcS\">direction</variable><variable id=\";%VSBuq.`MQO{qI_fQhb\">waterDetected</variable></variables><comment x=\"978.328125\" y=\"1639\" w=\"160\" h=\"120\">\nVariables\n</comment"],[1,"b`=H35JLuLG^ZHxHMY.5\">sendDistance</variable><variable id=\"YD/kBt30q)tC!ZkJq?;x\">receivedData</variable><variable id=\"~[h^vm..swel9cc,:llt\">direction</variable></variables"],[0,"><bl"]],"start1":131,"start2":131,"length1":250,"length2":179},{"diffs":[[0,"AR\" id=\""],[-1,"?I$!^|c[)$TpFo%2k9=h"],[1,"!:EE[gDYcS=*PRr|eJt["],[0,"\">distan"]],"start1":780,"start2":780,"length1":36,"length2":36},{"diffs":[[0,"60\">"],[-1,"Read"],[1,"Measure"],[0," dis"]],"start1":861,"start2":861,"length1":12,"length2":15},{"diffs":[[0,"istance "],[-1,"from"],[1,"using"],[0," sonar s"]],"start1":874,"start2":874,"length1":20,"length2":21},{"diffs":[[0,"tionid=\""],[-1,"5|B,dG[#Jl$z*)7mKb2W"],[1,"CI+C~P5*8}ot@n5cnf;V"],[0,"\"></muta"]],"start1":1226,"start2":1226,"length1":36,"length2":36},{"diffs":[[0,"tionid=\""],[-1,"/)Cohgj-#.m%XeiiqB;g"],[1,"=NRrdL;1J_vpC!aAi_;c"],[0,"\"></muta"]],"start1":1417,"start2":1417,"length1":36,"length2":36},{"diffs":[[0,"Receive "],[1,"movement "],[0,"directio"]],"start1":1497,"start2":1497,"length1":16,"length2":25},{"diffs":[[0,"rection "],[-1,"data "],[0,"from Ras"]],"start1":1516,"start2":1516,"length1":21,"length2":16},{"diffs":[[0,"block type=\""],[-1,"device_pause\""],[1,"function_call\"><mutation name=\"controlMotors\" functionid=\"LOg^30bQX=i%,3]qo79X\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Control motors based on both distance and received direction</comment><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">Pause for a short interval to avoid overloading communication</comment"],[0,"><value name"]],"start1":1558,"start2":1558,"length1":37,"length2":366},{"diffs":[[0,"/next></block></"],[1,"next></block></"],[0,"statement></bloc"]],"start1":2043,"start2":2043,"length1":32,"length2":47},{"diffs":[[0,"me=\""],[-1,"moveRobotBasedOnDirection\" functionid=\"}Ri.=yBVMuxUw8tp-|Q:\"><arg name=\"dir\" id=\"po8sh27h16c1b6351twbk\" type=\"number\"></arg"],[1,"controlMotors\" functionid=\"LOg^30bQX=i%,3]qo79X\""],[0,"></m"]],"start1":2153,"start2":2153,"length1":131,"length2":56},{"diffs":[[0,"me\">"],[-1,"moveRobotBasedOnDirection"],[1,"controlMotors"],[0,"</fi"]],"start1":2241,"start2":2241,"length1":33,"length2":21},{"diffs":[[0," to "],[-1,"move robot"],[1,"control motors"],[0," bas"]],"start1":2313,"start2":2313,"length1":18,"length2":22},{"diffs":[[0,"and "],[-1,"avoid water areas</comment><value name=\"po8sh27h16c1b6351twbk\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dir</field></block></value"],[1,"distance</comment"],[0,"><st"]],"start1":2351,"start2":2351,"length1":200,"length2":25},{"diffs":[[0,"gic_"],[-1,"negate\""],[1,"compare\"><field name=\"OP\">LT</field"],[0,"><va"]],"start1":2555,"start2":2555,"length1":15,"length2":43},{"diffs":[[0,"e name=\""],[-1,"BOOL"],[1,"A"],[0,"\"><shado"]],"start1":2600,"start2":2600,"length1":20,"length2":17},{"diffs":[[0,"hadow type=\""],[-1,"logic_boolean"],[1,"math_number"],[0,"\"><field nam"]],"start1":2613,"start2":2613,"length1":37,"length2":35},{"diffs":[[0,"field name=\""],[-1,"BOOL\">TRUE"],[1,"NUM\">0"],[0,"</field></sh"]],"start1":2639,"start2":2639,"length1":34,"length2":30},{"diffs":[[0,"id=\""],[-1,";%VSBuq.`MQO{qI_fQhb\">waterDetected</field></block></value></block></value"],[1,"!:EE[gDYcS=*PRr|eJt[\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">If obstacle is too close, stop or turn</comment><next><block type=\"robotbit_stop_all\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop motors</comment></block></next></block></statement"],[0,"><st"]],"start1":2720,"start2":2720,"length1":82,"length2":474},{"diffs":[[0,"statement name=\""],[-1,"DO0"],[1,"ELSE"],[0,"\"><block type=\"c"]],"start1":3192,"start2":3192,"length1":35,"length2":36},{"diffs":[[0,"seif=\"3\""],[1," else=\"1\""],[0,"></mutat"]],"start1":3252,"start2":3252,"length1":16,"length2":25},{"diffs":[[0,"\"1\"></mutation><"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">Control motors based on direction received from Raspberry Pi</comment><"],[0,"value name=\"IF0\""]],"start1":3266,"start2":3266,"length1":32,"length2":141},{"diffs":[[0,"pe=\""],[1,"v"],[0,"ar"],[-1,"gument_reporter_number\"><field name=\"VALUE\">dir"],[1,"iables_get\"><field name=\"VAR\" id=\"~[h^vm..swel9cc,:llt\">direction"],[0,"</fi"]],"start1":3620,"start2":3620,"length1":57,"length2":76},{"diffs":[[0,"pe=\""],[1,"v"],[0,"ar"],[-1,"gument_reporter_number\"><field name=\"VALUE\">dir"],[1,"iables_get\"><field name=\"VAR\" id=\"~[h^vm..swel9cc,:llt\">direction"],[0,"</fi"]],"start1":4759,"start2":4759,"length1":57,"length2":76},{"diffs":[[0,"pe=\""],[1,"v"],[0,"ar"],[-1,"gument_reporter_number\"><field name=\"VALUE\">dir"],[1,"iables_get\"><field name=\"VAR\" id=\"~[h^vm..swel9cc,:llt\">direction"],[0,"</fi"]],"start1":5892,"start2":5892,"length1":57,"length2":76},{"diffs":[[0,"pe=\""],[1,"v"],[0,"ar"],[-1,"gument_reporter_number\"><field name=\"VALUE\">dir"],[1,"iables_get\"><field name=\"VAR\" id=\"~[h^vm..swel9cc,:llt\">direction"],[0,"</fi"]],"start1":7026,"start2":7026,"length1":57,"length2":76},{"diffs":[[0,"tement><"],[-1,"/block></statement><"],[0,"statemen"]],"start1":7931,"start2":7931,"length1":36,"length2":16},{"diffs":[[0,"pe=\""],[-1,"function_call\"><mutation name=\"stopRobot\" functionid=\"+]Ub{_oMYR/hT*AsrK|J\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Water detected, stop moving</comment></block></statement></block></statement></block><block type=\"function_definition\" x=\"1240\" y=\"20\"><mutation name=\"stopRobot\" functionid=\"+]Ub{_oMYR/hT*AsrK|J\"></mutation><field name=\"function_name\">stopRobot</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to stop the robot</comment><statement name=\"STACK\"><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><next><block type=\"device_clear_display\"></block></nex"],[1,"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop motors if no valid direction is received</comment><next><block type=\"robotbit_stop_all\"></block></next></block></statement></block></statemen"],[0,"t></"]],"start1":7970,"start2":7970,"length1":985,"length2":215},{"diffs":[[0,"x=\"1"],[-1,"531"],[1,"264"],[0,"\" y="]],"start1":8245,"start2":8245,"length1":11,"length2":11},{"diffs":[[0," name=\"r"],[-1,"otateToFindClearPath"],[1,"eceiveData"],[0,"\" functi"]],"start1":8270,"start2":8270,"length1":36,"length2":26},{"diffs":[[0,"tionid=\""],[-1,"xFZ~!q`_]YNTcIK3g5*u"],[1,"=NRrdL;1J_vpC!aAi_;c"],[0,"\"></muta"]],"start1":8294,"start2":8294,"length1":36,"length2":36},{"diffs":[[0,"_name\">r"],[-1,"otateToFindClearPath"],[1,"eceiveData"],[0,"</field>"]],"start1":8356,"start2":8356,"length1":36,"length2":26},{"diffs":[[0,"to r"],[-1,"otate and find a clear path</comment><statement name=\"STACK\"><block type=\"controls_repeat_ext\"><comment pinned=\"false\" h=\"80\" w=\"160\">Rotate robot and look for clear direction"],[1,"eceive directions from Raspberry Pi and control motors</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"YD/kBt30q)tC!ZkJq?;x\">receivedData</field><comment pinned=\"false\" h=\"80\" w=\"160\">Read direction data from Raspberry Pi"],[0,"</co"]],"start1":8430,"start2":8430,"length1":183,"length2":264},{"diffs":[[0,"me=\""],[-1,"TIMES"],[1,"VALUE"],[0,"\"><s"]],"start1":8709,"start2":8709,"length1":13,"length2":13},{"diffs":[[0,"ath_"],[-1,"whole_"],[0,"numb"]],"start1":8735,"start2":8735,"length1":14,"length2":8},{"diffs":[[0,"e=\"NUM\">"],[-1,"4"],[1,"0"],[0,"</field>"]],"start1":8757,"start2":8757,"length1":17,"length2":17},{"diffs":[[0,"ow><"],[-1,"/value><statement name=\"DO\"><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field"],[1,"block type=\"serial_read_line\"></block></value><next><block type=\"controls_if\""],[0,"><va"]],"start1":8780,"start2":8780,"length1":165,"length2":85},{"diffs":[[0,"f\"><value name=\""],[-1,"speed1"],[1,"IF0"],[0,"\"><shadow type=\""]],"start1":8859,"start2":8859,"length1":38,"length2":35},{"diffs":[[0,"pe=\""],[-1,"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation"],[1,"logic_boolean\""],[0,"><fi"]],"start1":8890,"start2":8890,"length1":83,"length2":22},{"diffs":[[0,"field name=\""],[-1,"SLIDER\">150"],[1,"BOOL\">TRUE"],[0,"</field></sh"]],"start1":8910,"start2":8910,"length1":35,"length2":34},{"diffs":[[0,"ow><"],[-1,"/value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">-150"],[1,"block type=\"variables_get\"><field name=\"VAR\" id=\"YD/kBt30q)tC!ZkJq?;x\">receivedData"],[0,"</fi"]],"start1":8946,"start2":8946,"length1":151,"length2":91},{"diffs":[[0,"edData</field></"],[-1,"shadow"],[1,"block"],[0,"></value><next><"]],"start1":9027,"start2":9027,"length1":38,"length2":37},{"diffs":[[0,"ue><"],[-1,"next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"controls_if\""],[1,"statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"~[h^vm..swel9cc,:llt\">direction</field"],[0,"><co"]],"start1":9054,"start2":9054,"length1":162,"length2":117},{"diffs":[[0,"60\">"],[-1,"After each rotation, check distance"],[1,"Convert received string to number"],[0,"</co"]],"start1":9203,"start2":9203,"length1":43,"length2":41},{"diffs":[[0,"nt><value name=\""],[-1,"IF0"],[1,"VALUE"],[0,"\"><shadow type=\""]],"start1":9247,"start2":9247,"length1":35,"length2":37},{"diffs":[[0,"hadow type=\""],[-1,"logic_boolean"],[1,"math_number"],[0,"\"><field nam"]],"start1":9272,"start2":9272,"length1":37,"length2":35},{"diffs":[[0,"field name=\""],[-1,"BOOL\">TRUE"],[1,"NUM\">0"],[0,"</field></sh"]],"start1":9298,"start2":9298,"length1":34,"length2":30},{"diffs":[[0,"pe=\""],[-1,"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?I$!^|c[)$TpFo%2k9=h\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop rotating if path is clear</comment></block></statement></block></next></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"stopRobot\" functionid=\"+]Ub{_oMYR/hT*AsrK|J\"></mutation"],[1,"string_parsefloat\"><value name=\"text\"><block type=\"variables_get\"><field name=\"VAR\" id=\"YD/kBt30q)tC!ZkJq?;x\">receivedData</field></block></value></block></value></block></statement"],[0,"></b"]],"start1":9342,"start2":9342,"length1":643,"length2":189},{"diffs":[[0," x=\""],[-1,"2041"],[1,"1864"],[0,"\" y="]],"start1":9604,"start2":9604,"length1":12,"length2":12},{"diffs":[[0,"id=\""],[-1,"5|B,dG[#Jl$z*)7mKb2W"],[1,"CI+C~P5*8}ot@n5cnf;V"],[0,"\"></"]],"start1":9655,"start2":9655,"length1":28,"length2":28},{"diffs":[[0,"istance "],[1,"data "],[0,"to Raspb"]],"start1":9793,"start2":9793,"length1":16,"length2":21},{"diffs":[[0,"erry Pi "],[-1,"if"],[1,"when an"],[0," obstacl"]],"start1":9814,"start2":9814,"length1":18,"length2":23},{"diffs":[[0,"hen an obstacle "],[1,"is "],[0,"detected</commen"]],"start1":9823,"start2":9823,"length1":32,"length2":35},{"diffs":[[0,"AR\" id=\""],[-1,"?I$!^|c[)$TpFo%2k9=h"],[1,"!:EE[gDYcS=*PRr|eJt["],[0,"\">distan"]],"start1":10203,"start2":10203,"length1":36,"length2":36},{"diffs":[[0,"f\"><"],[-1,"mutation else=\"1\"></mutation"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">If obstacle is within 50 cm</comment"],[0,"><va"]],"start1":10415,"start2":10415,"length1":36,"length2":82},{"diffs":[[0,"field name=\"OP\">"],[-1,"LT"],[1,"EQ"],[0,"</field><value n"]],"start1":10610,"start2":10610,"length1":34,"length2":34},{"diffs":[[0,"AR\" id=\""],[-1,"?I$!^|c[)$TpFo%2k9=h\">d"],[1,"b`=H35JLuLG^ZHxHMY.5\">sendD"],[0,"istance<"]],"start1":10757,"start2":10757,"length1":39,"length2":43},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"10"],[0,"0</field></shado"]],"start1":10868,"start2":10868,"length1":34,"length2":32},{"diffs":[[0,"pe=\""],[-1,"serial_writevalue\"><comment pinned=\"false\" h=\"80\" w=\"160\">If obstacle within 10cm, mark it critical\n2 = Critical obstacle</comment><value name=\"name\"><shadow type=\"text\"><field name=\"TEXT\">distance</field></shadow></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"serial_writevalue\"><comment pinned=\"false\" h=\"80\" w=\"160\">1 = Obstacle detected</comment><value name=\"name\"><shadow type=\"text\"><field name=\"TEXT\">di"],[1,"variables_set\"><field name=\"VAR\" id=\"b`=H35JLuLG^ZHxHMY.5\">sendDistance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Only send \"1\" if it's the first time detecting the ob"],[0,"sta"],[-1,"n"],[0,"c"],[1,"l"],[0,"e</"],[-1,"field></shadow></value"],[1,"comment"],[0,"><va"]],"start1":10957,"start2":10957,"length1":556,"length2":194},{"diffs":[[0,"nt><value name=\""],[-1,"value"],[1,"VALUE"],[0,"\"><shadow type=\""]],"start1":11145,"start2":11145,"length1":37,"length2":37},{"diffs":[[0,"ue><"],[-1,"/block></statement></block></statement><statement name=\"ELSE\""],[1,"next"],[0,"><bl"]],"start1":11236,"start2":11236,"length1":69,"length2":12},{"diffs":[[0,"60\">"],[-1,"0 = No obstacle"],[1,"Send \"1\" for obstacle detected"],[0,"</co"]],"start1":11312,"start2":11312,"length1":23,"length2":38},{"diffs":[[0,"e\"><"],[-1,"shadow"],[1,"block"],[0," type=\""],[-1,"math_number"],[1,"variables_get"],[0,"\"><f"]],"start1":11464,"start2":11464,"length1":32,"length2":33},{"diffs":[[0,"t\"><field name=\""],[-1,"NUM\">0"],[1,"VAR\" id=\"b`=H35JLuLG^ZHxHMY.5\">sendDistance"],[0,"</field></shadow"]],"start1":11492,"start2":11492,"length1":38,"length2":75},{"diffs":[[0,"stance</field></"],[-1,"shadow"],[1,"block"],[0,"></value></block"]],"start1":11545,"start2":11545,"length1":38,"length2":37},{"diffs":[[0,"e></block></"],[-1,"statemen"],[1,"nex"],[0,"t></block></"]],"start1":11573,"start2":11573,"length1":32,"length2":27},{"diffs":[[0,"ck><"],[-1,"block type=\"function_definition\" x=\"20\" y=\"1639\"><mutation name=\"receiveData\" functionid=\"/)Cohgj-#.m%XeiiqB;g\"></mutation><field name=\"function_name\">receiveData</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to receive and process direction commands from Raspberry Pi</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"(n?G|o;D*4#$jsiLqF;U\">receivedData</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_until\"><value name=\"delimiter\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value></block></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Check if the received data starts with \"direction:\"</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(n?G|o;D*4#$jsiLqF;U\">receivedData</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">direction:</field></shadow></value"],[1,"/statement><statement name=\"ELSE\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"b`=H35JLuLG^ZHxHMY.5\">sendDistance</field"],[0,"></b"]],"start1":11615,"start2":11615,"length1":1328,"length2":380},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"0"],[1,"1"],[0,"</field></shadow"]],"start1":12053,"start2":12053,"length1":33,"length2":33},{"diffs":[[0,"id=\""],[-1,"EGE|)1Bj+?]UW.*jFvcS\">direction"],[1,"b`=H35JLuLG^ZHxHMY.5\">sendDistance"],[0,"</fi"]],"start1":12179,"start2":12179,"length1":39,"length2":42},{"diffs":[[0,"60\">"],[-1,"Extract the numeric direction value</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_parsefloat\"><value name=\"text\"><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"(n?G|o;D*4#$jsiLqF;U\">receivedData</field></block></value><value name=\"start\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?I$!^|c[)$TpFo%2k9=h\">distance</field"],[1,"Only send \"0\" if obstacle is cleared</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next"],[0,"><"],[-1,"/"],[0,"block"],[-1,"></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field"],[1," type=\"serial_writevalue\""],[0,"><co"]],"start1":12260,"start2":12260,"length1":1101,"length2":182},{"diffs":[[0,"60\">"],[-1,"If obstacle too close, stop or rotate"],[1,"Send \"0\" for clear path"],[0,"</co"]],"start1":12474,"start2":12474,"length1":45,"length2":31},{"diffs":[[0,"nt><"],[-1,"next><block type=\"function_call\"><mutation name=\"rotateToFindClearPath\" functionid=\"xFZ~!q`_]YNTcIK3g5*u\"></mutation></block></next></block></statement><statement name=\"ELSE\"><block type=\"function_call\"><mutation name=\"moveRobotBasedOnDirection\" functionid=\"}Ri.=yBVMuxUw8tp-|Q:\"><arg name=\"dir\" id=\"po8sh27h16c1b6351twbk\" type=\"number\"></arg></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Handle direction commands</comment><value name=\"po8sh27h16c1b6351twbk\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow"],[1,"value name=\"name\"><shadow type=\"text\"><field name=\"TEXT\">distance</field></shadow></value><value name=\"value\""],[0,"><bl"]],"start1":12508,"start2":12508,"length1":534,"length2":117},{"diffs":[[0,"id=\""],[-1,"EGE|)1Bj+?]UW.*jFvcS\">direction"],[1,"b`=H35JLuLG^ZHxHMY.5\">sendDistance"],[0,"</fi"]],"start1":12668,"start2":12668,"length1":39,"length2":42},{"diffs":[[0,"block></"],[-1,"statement></block></"],[0,"next></b"]],"start1":12732,"start2":12732,"length1":36,"length2":16},{"diffs":[[0,"ement></block></"],[-1,"nex"],[1,"statemen"],[0,"t></block></stat"]],"start1":12759,"start2":12759,"length1":35,"length2":40}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"/**\n * Variables\n */\n"],[0,"// F"]],"start1":0,"start2":0,"length1":25,"length2":4},{"diffs":[[0,"istance "],[1,"data "],[0,"to Raspb"]],"start1":21,"start2":21,"length1":16,"length2":21},{"diffs":[[0,"erry Pi "],[-1,"if"],[1,"when an"],[0," obstacl"]],"start1":42,"start2":42,"length1":18,"length2":23},{"diffs":[[0,"hen an obstacle "],[1,"is "],[0,"detected\nfunctio"]],"start1":51,"start2":51,"length1":32,"length2":35},{"diffs":[[0,"        "],[-1,"if (d"],[1,"// If obstacle is within 50 cm\n        if (sendD"],[0,"istance "],[-1,"< 10"],[1,"== "],[0,"0) {\n   "]],"start1":128,"start2":128,"length1":33,"length2":75},{"diffs":[[0," // "],[-1,"If obstacle within 10cm, mark it critical\n            // 2 = Critical obstacle\n            serial.writeValue(\"distance\", 2)\n        } else {\n "],[1,"Only send \"1\" if it's the first time detecting the obstacle\n            sendDistance = 1\n            // Send \"1\" for obstacle detected\n            serial.writeValue(\"distance\", sendDistance)\n        }\n    } else {\n        if (sendDistance == 1) {\n"],[0,"    "]],"start1":211,"start2":211,"length1":150,"length2":255},{"diffs":[[0,"    "],[1," "],[0,"// "],[-1,"1 = Obstacle detected\n            serial.writeValue(\"distance\", 1)\n        }\n    } else {\n        // 0 = No obstacle\n"],[1,"Only send \"0\" if obstacle is cleared\n            sendDistance = 0\n            // Send \"0\" for clear path\n    "],[0,"    "]],"start1":469,"start2":469,"length1":128,"length2":121},{"diffs":[[0,"tance\", "],[-1,"0)"],[1,"sendDistance)\n        }"],[0,"\n    }\n}"]],"start1":616,"start2":616,"length1":18,"length2":39},{"diffs":[[0,"ive "],[-1,"and process "],[0,"dire"]],"start1":675,"start2":675,"length1":20,"length2":8},{"diffs":[[0,"irection"],[-1," command"],[0,"s from R"]],"start1":680,"start2":680,"length1":24,"length2":16},{"diffs":[[0,"berry Pi"],[1," and control motors"],[0,"\nfunctio"]],"start1":699,"start2":699,"length1":16,"length2":35},{"diffs":[[0,"    "],[-1,"receivedData = serial.readUntil(serial.delimiters(Delimiters.NewLine))\n    // Check if the"],[1,"// Read direction data from Raspberry Pi\n   "],[0," rec"]],"start1":753,"start2":753,"length1":98,"length2":52},{"diffs":[[0,"ived"],[-1," d"],[1,"D"],[0,"ata "],[-1,"starts with \"direction:\"\n    if (receivedData.indexOf(\"direction:\") == 0) {\n        // Extract the numeric direction value\n        direction = parseFloat(receivedData.substr(10, 0))\n    "],[1,"= serial.readLine()\n    if (receivedData) {\n        // Convert received string to number\n        direction = parseFloat(receivedData)\n    }\n}\n// Function to control motors based on direction and distance\nfunction controlMotors () {\n"],[0,"    "]],"start1":806,"start2":806,"length1":200,"length2":245},{"diffs":[[0,"tance < "],[-1,"1"],[1,"5"],[0,"00) {\n  "]],"start1":1058,"start2":1058,"length1":17,"length2":17},{"diffs":[[0,") {\n        "],[-1,"    "],[0,"// If obstac"]],"start1":1069,"start2":1069,"length1":28,"length2":24},{"diffs":[[0,"bstacle "],[1,"is "],[0,"too clos"]],"start1":1088,"start2":1088,"length1":16,"length2":19},{"diffs":[[0," or "],[-1,"rotate\n "],[1,"turn\n"],[0,"        "],[-1,"   "],[0,"basi"]],"start1":1114,"start2":1114,"length1":27,"length2":21},{"diffs":[[0,"    "],[-1,"    rotateToFindClearPath()\n        } else {\n            // Handle direction commands\n            moveRobotBasedOnDirection(direction)\n        }\n    }\n}\n// Function to move robot based on direction and avoid water areas\nfunction moveRobotBasedOnDirection (dir: number) {\n    let waterDetected = 0\n    if (!(waterDetected)) {"],[1,"// Stop motors\n        robotbit.MotorStopAll()\n    } else {\n        // Control motors based on direction received from Raspberry Pi"],[0,"\n   "]],"start1":1164,"start2":1164,"length1":332,"length2":139},{"diffs":[[0,"     if (dir"],[1,"ection"],[0," == 0) {\n   "]],"start1":1303,"start2":1303,"length1":24,"length2":30},{"diffs":[[0,"else if (dir"],[1,"ection"],[0," == 1) {\n   "]],"start1":1562,"start2":1562,"length1":24,"length2":30},{"diffs":[[0,"else if (dir"],[1,"ection"],[0," == 2) {\n   "]],"start1":1815,"start2":1815,"length1":24,"length2":30},{"diffs":[[0," if (dir"],[1,"ection"],[0," == 3) {"]],"start1":2073,"start2":2073,"length1":16,"length2":22},{"diffs":[[0,"     )\n        }"],[-1,"\n    }"],[0," else {\n        "]],"start1":2314,"start2":2314,"length1":38,"length2":32},{"diffs":[[0,"    "],[-1,"// Water detected, stop moving\n        stopRobot()\n    }\n}\n// Function to stop the robot\nfunction stopRobot () {\n    robotbit.MotorRunDual(\n    robotbit.Motors.M1A,\n    0,\n    robotbit.Motors.M1B,\n    0\n    )\n    basic.clearScreen()\n}\n// Function to rotate and find a clear path\nfunction rotateToFindClearPath () {\n    // Rotate robot and look for clear direction\n    for (let index = 0; index < 4; index++) {\n        robotbit.MotorRunDual(\n        robotbit.Motors.M1A,\n        150,\n        robotbit.Motors.M1B,\n        -150\n        )\n        basic.pause(500)\n        // After each rotation, check distance\n        if (distance >= 500) {\n            // Stop rotating if path is clear\n            break;\n        }\n    }\n    stopRobot()"],[1,"    // Stop motors if no valid direction is received\n            basic.clearScreen()\n            robotbit.MotorStopAll()\n        }\n    }"],[0,"\n}\nl"]],"start1":2342,"start2":2342,"length1":742,"length2":144},{"diffs":[[0,"ta = \"\"\n"],[1,"let sendDistance = 0\n"],[0,"let dist"]],"start1":2517,"start2":2517,"length1":16,"length2":37},{"diffs":[[0,"\n    // "],[-1,"Read"],[1,"Measure"],[0," distanc"]],"start1":2694,"start2":2694,"length1":20,"length2":23},{"diffs":[[0,"istance "],[-1,"from"],[1,"using"],[0," sonar s"]],"start1":2711,"start2":2711,"length1":20,"length2":21},{"diffs":[[0," // Receive "],[1,"movement "],[0,"direction da"]],"start1":2895,"start2":2895,"length1":24,"length2":33},{"diffs":[[0,"ement direction "],[-1,"data "],[0,"from Raspberry P"]],"start1":2910,"start2":2910,"length1":37,"length2":32},{"diffs":[[0,"ceiveData()\n"],[1,"    // Control motors based on both distance and received direction\n    controlMotors()\n    // Pause for a short interval to avoid overloading communication\n"],[0,"    basic.pa"]],"start1":2950,"start2":2950,"length1":24,"length2":181}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":379,"start2":379,"length1":17,"length2":21}]}]},{"timestamp":1727355610804,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"dNNwW1jlbOLkr!GTfXyy"],[1,"?I$!^|c[)$TpFo%2k9=h"],[0,"\">distan"]],"start1":72,"start2":72,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"RqzM(7,FScP!){!mc[b-"],[1,"(n?G|o;D*4#$jsiLqF;U"],[0,"\">receiv"]],"start1":127,"start2":127,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"5?T^CA*eAm4kQDRwN`Ps"],[1,"EGE|)1Bj+?]UW.*jFvcS"],[0,"\">direct"]],"start1":186,"start2":186,"length1":36,"length2":36},{"diffs":[[0,"ble id=\""],[-1,"kVS~o`VW_Kt1TKRpkLNP"],[1,";%VSBuq.`MQO{qI_fQhb"],[0,"\">waterD"]],"start1":242,"start2":242,"length1":36,"length2":36},{"diffs":[[0," x=\""],[-1,"20"],[1,"978.328125"],[0,"\" y=\"1"],[-1,"455"],[1,"639"],[0,"\" w="]],"start1":316,"start2":316,"length1":19,"length2":27},{"diffs":[[0,"AR\" id=\""],[-1,"dNNwW1jlbOLkr!GTfXyy"],[1,"?I$!^|c[)$TpFo%2k9=h"],[0,"\">distan"]],"start1":851,"start2":851,"length1":36,"length2":36},{"diffs":[[0,"tionid=\""],[-1,"T,o~Fy:jutB(P~kU8S^5"],[1,"5|B,dG[#Jl$z*)7mKb2W"],[0,"\"></muta"]],"start1":1293,"start2":1293,"length1":36,"length2":36},{"diffs":[[0,"tionid=\""],[-1,"5GDlPUS8gL%%po0nig=M"],[1,"/)Cohgj-#.m%XeiiqB;g"],[0,"\"></muta"]],"start1":1484,"start2":1484,"length1":36,"length2":36},{"diffs":[[0,"e\"><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Optional: Update waterDetected based on sensor data or received data\nExample: waterDetected = checkWaterSensor(); // Implement this function as needed</comment><"],[0,"valu"]],"start1":1644,"start2":1644,"length1":207,"length2":8},{"diffs":[[0,"tionid=\""],[-1,"-LR7|/~THZb$U)f+HKTI"],[1,"}Ri.=yBVMuxUw8tp-|Q:"],[0,"\"><arg n"]],"start1":1907,"start2":1907,"length1":36,"length2":36},{"diffs":[[0,"ir\" id=\""],[-1,"0unn8hshn5f9rnhc1oiz"],[1,"po8sh27h16c1b6351twbk"],[0,"\" type=\""]],"start1":1949,"start2":1949,"length1":36,"length2":37},{"diffs":[[0,"e name=\""],[-1,"0unn8hshn5f9rnhc1oiz"],[1,"po8sh27h16c1b6351twbk"],[0,"\"><block"]],"start1":2189,"start2":2189,"length1":36,"length2":37},{"diffs":[[0,"\"><mutation "],[1,"else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_negate\"><value name=\"BOOL\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";%VSBuq.`MQO{qI_fQhb\">waterDetected</field></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation "],[0,"elseif=\"3\"><"]],"start1":2398,"start2":2398,"length1":24,"length2":429},{"diffs":[[0,"ck></statement><"],[1,"statement name=\"ELSE\"><block type=\"function_call\"><mutation name=\"stopRobot\" functionid=\"+]Ub{_oMYR/hT*AsrK|J\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Water detected, stop moving</comment></block></statement></block></statement><"],[0,"/block><block ty"]],"start1":7314,"start2":7314,"length1":32,"length2":271},{"diffs":[[0,"tionid=\""],[-1,"K*w`faOw6;kcEEFxKpjP"],[1,"+]Ub{_oMYR/hT*AsrK|J"],[0,"\"></muta"]],"start1":7657,"start2":7657,"length1":36,"length2":36},{"diffs":[[0,"me=\""],[-1,"sendData\" functionid=\"T,o~Fy:jutB(P~kU8S^5"],[1,"rotateToFindClearPath\" functionid=\"xFZ~!q`_]YNTcIK3g5*u\"></mutation><field name=\"function_name\">rotateToFindClearPath</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to rotate and find a clear path</comment><statement name=\"STACK\"><block type=\"controls_repeat_ext\"><comment pinned=\"false\" h=\"80\" w=\"160\">Rotate robot and look for clear direction</comment><value name=\"TIMES\"><shadow type=\"math_whole_number\"><field name=\"NUM\">4</field></shadow></value><statement name=\"DO\"><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">-150</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">500</field></shadow></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">After each rotation, check distance</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GTE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"?I$!^|c[)$TpFo%2k9=h\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"break_keyword\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop rotating if path is clear</comment></block></statement></block></next></block></next></block></statement><next><block type=\"function_call\"><mutation name=\"stopRobot\" functionid=\"+]Ub{_oMYR/hT*AsrK|J\"></mutation></block></next></block></statement></block><block type=\"function_definition\" x=\"2041\" y=\"20\"><mutation name=\"sendData\" functionid=\"5|B,dG[#Jl$z*)7mKb2W"],[0,"\"></"]],"start1":8434,"start2":8434,"length1":50,"length2":2066},{"diffs":[[0,"AR\" id=\""],[-1,"dNNwW1jlbOLkr!GTfXyy"],[1,"?I$!^|c[)$TpFo%2k9=h"],[0,"\">distan"]],"start1":11007,"start2":11007,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"dNNwW1jlbOLkr!GTfXyy"],[1,"?I$!^|c[)$TpFo%2k9=h"],[0,"\">di"]],"start1":11519,"start2":11519,"length1":28,"length2":28},{"diffs":[[0,"w=\"160\">"],[1,"If obstacle within 10cm, mark it critical\n2 = "],[0,"Critical"]],"start1":11767,"start2":11767,"length1":16,"length2":62},{"diffs":[[0,"w=\"160\">"],[1,"1 = "],[0,"Obstacle"]],"start1":12136,"start2":12136,"length1":16,"length2":20},{"diffs":[[0,"w=\"160\">"],[1,"0 = "],[0,"No obsta"]],"start1":12483,"start2":12483,"length1":16,"length2":20},{"diffs":[[0," x=\""],[-1,"198"],[0,"2"],[1,"0"],[0,"\" y=\""],[-1,"20"],[1,"1639"],[0,"\"><m"]],"start1":12779,"start2":12779,"length1":19,"length2":19},{"diffs":[[0,"id=\""],[-1,"5GDlPUS8gL%%po0nig=M"],[1,"/)Cohgj-#.m%XeiiqB;g"],[0,"\"></"]],"start1":12833,"start2":12833,"length1":28,"length2":28},{"diffs":[[0,"AR\" id=\""],[-1,"RqzM(7,FScP!){!mc[b-"],[1,"(n?G|o;D*4#$jsiLqF;U"],[0,"\">receiv"]],"start1":13100,"start2":13100,"length1":36,"length2":36},{"diffs":[[0,"ata "],[-1,"contains"],[1,"starts with"],[0," \"di"]],"start1":13497,"start2":13497,"length1":16,"length2":19},{"diffs":[[0,"AR\" id=\""],[-1,"RqzM(7,FScP!){!mc[b-"],[1,"(n?G|o;D*4#$jsiLqF;U"],[0,"\">receiv"]],"start1":13902,"start2":13902,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"5?T^CA*eAm4kQDRwN`Ps"],[1,"EGE|)1Bj+?]UW.*jFvcS"],[0,"\">direct"]],"start1":14251,"start2":14251,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"RqzM(7,FScP!){!mc[b-"],[1,"(n?G|o;D*4#$jsiLqF;U"],[0,"\">re"]],"start1":14665,"start2":14665,"length1":28,"length2":28},{"diffs":[[0,"on><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Check if water is detected</comment"],[1,"value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field"],[0,"><va"]],"start1":14910,"start2":14910,"length1":81,"length2":148},{"diffs":[[0,"ld><value name=\""],[-1,"IF0"],[1,"A"],[0,"\"><shadow type=\""]],"start1":15052,"start2":15052,"length1":35,"length2":33},{"diffs":[[0,"hadow type=\""],[-1,"logic_boolean"],[1,"math_number"],[0,"\"><field nam"]],"start1":15073,"start2":15073,"length1":37,"length2":35},{"diffs":[[0,"field name=\""],[-1,"BOOL\">TRUE"],[1,"NUM\">0"],[0,"</field></sh"]],"start1":15099,"start2":15099,"length1":34,"length2":30},{"diffs":[[0,"id=\""],[-1,"kVS~o`VW_Kt1TKRpkLNP\">waterDetected</field></block></value><statement name=\"DO0\"><block type=\"function_call\"><mutation name=\"stopRobot\" functionid=\"K*w`faOw6;kcEEFxKpjP\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Stop if water is detected</commen"],[1,"?I$!^|c[)$TpFo%2k9=h\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_icon\"><field name=\"i\">IconNames.No</field><comment pinned=\"false\" h=\"80\" w=\"160\">If obstacle too close, stop or rotate</comment><next><block type=\"function_call\"><mutation name=\"rotateToFindClearPath\" functionid=\"xFZ~!q`_]YNTcIK3g5*u\"></mutation></block></nex"],[0,"t></"]],"start1":15180,"start2":15180,"length1":261,"length2":472},{"diffs":[[0,"id=\""],[-1,"-LR7|/~THZb$U)f+HKTI"],[1,"}Ri.=yBVMuxUw8tp-|Q:"],[0,"\"><a"]],"start1":15772,"start2":15772,"length1":28,"length2":28},{"diffs":[[0,"ir\" id=\""],[-1,"0unn8hshn5f9rnhc1oiz"],[1,"po8sh27h16c1b6351twbk"],[0,"\" type=\""]],"start1":15810,"start2":15810,"length1":36,"length2":37},{"diffs":[[0,"on><"],[-1,"value name=\"0unn8hshn5f9rnhc1oiz"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">Handle direction commands</comment><value name=\"po8sh27h16c1b6351twbk"],[0,"\"><s"]],"start1":15869,"start2":15869,"length1":40,"length2":115},{"diffs":[[0,"id=\""],[-1,"5?T^CA*eAm4kQDRwN`Ps"],[1,"EGE|)1Bj+?]UW.*jFvcS"],[0,"\">di"]],"start1":16091,"start2":16091,"length1":28,"length2":28}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"      //"],[1," If obstacle within 10cm, mark it critical\n            // 2 ="],[0," Critica"]],"start1":172,"start2":172,"length1":16,"length2":77},{"diffs":[[0,"      //"],[1," 1 ="],[0," Obstacl"]],"start1":328,"start2":328,"length1":16,"length2":20},{"diffs":[[0,"      //"],[1," 0 ="],[0," No obst"]],"start1":429,"start2":429,"length1":16,"length2":20},{"diffs":[[0,"ata "],[-1,"contains"],[1,"starts with"],[0," \"di"]],"start1":706,"start2":706,"length1":16,"length2":19},{"diffs":[[0,") {\n"],[-1,"        let waterDetected = 0\n"],[0,"    "]],"start1":782,"start2":782,"length1":38,"length2":8},{"diffs":[[0,"    "],[-1,"// Check if water is detected\n        if (waterDetected) {\n            // Stop if water is detected\n            stopRobot()\n        } else {"],[1,"if (distance < 100) {\n            // If obstacle too close, stop or rotate\n            basic.showIcon(IconNames.No)\n            rotateToFindClearPath()\n        } else {\n            // Handle direction commands"],[0,"\n   "]],"start1":896,"start2":896,"length1":148,"length2":217},{"diffs":[[0,": number) {\n"],[1,"    let waterDetected = 0\n    if (!(waterDetected)) {\n    "],[0,"    if (dir "]],"start1":1283,"start2":1283,"length1":24,"length2":82},{"diffs":[[0,"== 0) {\n        "],[1,"   "],[1," "],[0,"// Move forward\n"]],"start1":1365,"start2":1365,"length1":32,"length2":36},{"diffs":[[0,"ove forward\n"],[1,"    "],[0,"        basi"]],"start1":1389,"start2":1389,"length1":24,"length2":28},{"diffs":[[0,".North)\n        "],[1,"   "],[1," "],[0,"robotbit.MotorRu"]],"start1":1439,"start2":1439,"length1":32,"length2":36},{"diffs":[[0,"unDual(\n        "],[1,"    "],[0,"robotbit.Motors."]],"start1":1474,"start2":1474,"length1":32,"length2":36},{"diffs":[[0,"rs.M1A,\n        "],[1,"   "],[1," "],[0,"150,\n"],[1,"    "],[0,"        robotbit"]],"start1":1507,"start2":1507,"length1":37,"length2":45},{"diffs":[[0,"rs.M1B,\n        "],[1,"  "],[1,"  "],[0,"150\n        )\n  "]],"start1":1557,"start2":1557,"length1":32,"length2":36},{"diffs":[[0,"    150\n        "],[-1,")\n"],[1,"    )\n  "],[0,"    "],[1,"  "],[0,"} else if (dir ="]],"start1":1573,"start2":1573,"length1":38,"length2":46},{"diffs":[[0,"== 1) {\n        "],[1,"    "],[0,"// Turn left\n   "]],"start1":1618,"start2":1618,"length1":32,"length2":36},{"diffs":[[0,"rn left\n        "],[1," "],[1,"   "],[0,"basic.showArrow("]],"start1":1643,"start2":1643,"length1":32,"length2":36},{"diffs":[[0,"s.West)\n        "],[1,"    "],[0,"robotbit.MotorRu"]],"start1":1688,"start2":1688,"length1":32,"length2":36},{"diffs":[[0,"unDual(\n        "],[1," "],[1,"   "],[0,"robotbit.Motors."]],"start1":1723,"start2":1723,"length1":32,"length2":36},{"diffs":[[0,"bit.Motors.M1A,\n"],[1,"    "],[0,"        0,\n     "]],"start1":1748,"start2":1748,"length1":32,"length2":36},{"diffs":[[0,"     0,\n        "],[1,"    "],[0,"robotbit.Motors."]],"start1":1771,"start2":1771,"length1":32,"length2":36},{"diffs":[[0,"bit.Motors.M1B,\n"],[1,"    "],[0,"        150\n    "]],"start1":1796,"start2":1796,"length1":32,"length2":36},{"diffs":[[0,"    150\n        "],[-1,")\n"],[1,"    )\n    "],[0,"    } else if (d"]],"start1":1820,"start2":1820,"length1":34,"length2":42},{"diffs":[[0,"== 2) {\n        "],[1,"    "],[0,"// Turn right\n  "]],"start1":1865,"start2":1865,"length1":32,"length2":36},{"diffs":[[0,"n right\n"],[1,"    "],[0,"        "]],"start1":1891,"start2":1891,"length1":16,"length2":20},{"diffs":[[0,"s.East)\n        "],[1,"    "],[0,"robotbit.MotorRu"]],"start1":1936,"start2":1936,"length1":32,"length2":36},{"diffs":[[0,"unDual(\n        "],[1,"   "],[1," "],[0,"robotbit.Motors."]],"start1":1971,"start2":1971,"length1":32,"length2":36},{"diffs":[[0,"rs.M1A,\n        "],[1,"    "],[0,"150,\n        rob"]],"start1":2004,"start2":2004,"length1":32,"length2":36},{"diffs":[[0,"   150,\n        "],[1,"   "],[1," "],[0,"robotbit.Motors."]],"start1":2021,"start2":2021,"length1":32,"length2":36},{"diffs":[[0,"        "],[-1,"0\n        )\n"],[1,"    0\n            )\n    "],[0,"    } el"]],"start1":2062,"start2":2062,"length1":28,"length2":40},{"diffs":[[0,"== 3) {\n        "],[1,"  "],[1,"  "],[0,"// Move backward"]],"start1":2113,"start2":2113,"length1":32,"length2":36},{"diffs":[[0,"ve backward\n"],[1,"    "],[0,"        basi"]],"start1":2138,"start2":2138,"length1":24,"length2":28},{"diffs":[[0,".South)\n        "],[1," "],[1,"   "],[0,"robotbit.MotorRu"]],"start1":2188,"start2":2188,"length1":32,"length2":36},{"diffs":[[0,"unDual(\n        "],[1,"    "],[0,"robotbit.Motors."]],"start1":2223,"start2":2223,"length1":32,"length2":36},{"diffs":[[0,"    "],[1," "],[1,"   "],[0,"-150,\n"],[1,"    "],[0,"    "]],"start1":2268,"start2":2268,"length1":14,"length2":22},{"diffs":[[0,"1B,\n        "],[1," "],[1,"   "],[0,"-150\n       "]],"start1":2311,"start2":2311,"length1":24,"length2":28},{"diffs":[[0,"150\n        "],[1,"    )\n        }\n    } else {\n        // Water detected, stop moving\n        stopRobot("],[0,")\n    }\n}\n//"]],"start1":2328,"start2":2328,"length1":24,"length2":110},{"diffs":[[0,"een()\n}\n"],[1,"// Function to rotate and find a clear path\nfunction rotateToFindClearPath () {\n    // Rotate robot and look for clear direction\n    for (let index = 0; index < 4; index++) {\n        robotbit.MotorRunDual(\n        robotbit.Motors.M1A,\n        150,\n        robotbit.Motors.M1B,\n        -150\n        )\n        basic.pause(500)\n        // After each rotation, check distance\n        if (distance >= 500) {\n            // Stop rotating if path is clear\n            break;\n        }\n    }\n    stopRobot()\n}\n"],[0,"let dire"]],"start1":2604,"start2":2604,"length1":16,"length2":518},{"diffs":[[0,"a()\n"],[-1,"    // Optional: Update waterDetected based on sensor data or received data\n    // Example: waterDetected = checkWaterSensor(); // Implement this function as needed\n"],[0,"    "]],"start1":3558,"start2":3558,"length1":173,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"block"],[1,"t"],[0,"sprj\"\n}\n"]],"start1":379,"start2":379,"length1":21,"length2":17}]}]},{"timestamp":1727356206235,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ble id=\""],[-1,"Fe7L!^O0])zdT,*,*T{$"],[1,"dNNwW1jlbOLkr!GTfXyy\">distance</variable><variable id=\"RqzM(7,FScP!){!mc[b-"],[0,"\">receiv"]],"start1":72,"start2":72,"length1":36,"length2":91},{"diffs":[[0,"ble id=\""],[-1,"/jujf%`T[[#zk?zR+Ka4"],[1,"5?T^CA*eAm4kQDRwN`Ps"],[0,"\">direct"]],"start1":186,"start2":186,"length1":36,"length2":36},{"diffs":[[0,"id=\""],[-1,"gVVHj?OXq`RjW*TLCTBu\">distance</variable></variables"],[1,"kVS~o`VW_Kt1TKRpkLNP\">waterDetected</variable></variables><comment x=\"20\" y=\"1455\" w=\"160\" h=\"120\">\nVariables\n</comment"],[0,"><bl"]],"start1":246,"start2":246,"length1":60,"length2":127},{"diffs":[[0," USB"],[-1," or pins"],[0,"</co"]],"start1":543,"start2":543,"length1":16,"length2":8},{"diffs":[[0,"ock "],[-1,"type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">direction</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block "],[0,"type"]],"start1":566,"start2":566,"length1":194,"length2":8},{"diffs":[[0,"t></block></"],[-1,"next></block></"],[0,"statement></"]],"start1":643,"start2":643,"length1":39,"length2":24},{"diffs":[[0," x=\""],[-1,"342"],[1,"267"],[0,"\" y="]],"start1":701,"start2":701,"length1":11,"length2":11},{"diffs":[[0,"id=\""],[-1,"gVVHj?OXq`RjW*TLCTBu\">distance</field"],[1,"dNNwW1jlbOLkr!GTfXyy\">distance</field><comment pinned=\"false\" h=\"80\" w=\"160\">Read distance from sonar sensor</comment"],[0,"><va"]],"start1":847,"start2":847,"length1":45,"length2":125},{"diffs":[[0,"<mutation name=\""],[-1,"receive"],[1,"send"],[0,"Data\" functionid"]],"start1":1255,"start2":1255,"length1":39,"length2":36},{"diffs":[[0,"tionid=\""],[-1,"DJ/!G$nKEtYj-Z$8t~C."],[1,"T,o~Fy:jutB(P~kU8S^5"],[0,"\"></muta"]],"start1":1285,"start2":1285,"length1":36,"length2":36},{"diffs":[[0,"60\">"],[-1,"Receive movement"],[1,"Send obstacle data to Raspberry Pi</comment><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"5GDlPUS8gL%%po0nig=M\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Receive"],[0," dir"]],"start1":1361,"start2":1361,"length1":24,"length2":206},{"diffs":[[0,"ceive direction "],[1,"data "],[0,"from Raspberry P"]],"start1":1558,"start2":1558,"length1":32,"length2":37},{"diffs":[[0,"pause\"><"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">Optional: Update waterDetected based on sensor data or received data\nExample: waterDetected = checkWaterSensor(); // Implement this function as needed</comment><"],[0,"value na"]],"start1":1632,"start2":1632,"length1":16,"length2":215},{"diffs":[[0,"/next></block></"],[1,"next></block></"],[0,"statement></bloc"]],"start1":1953,"start2":1953,"length1":32,"length2":47},{"diffs":[[0," x=\""],[-1,"814"],[1,"749"],[0,"\" y="]],"start1":2035,"start2":2035,"length1":11,"length2":11},{"diffs":[[0,"me=\""],[-1,"controlMotors\" functionid=\"qKJ=A,#*MoQdx2v[@v=L"],[1,"moveRobotBasedOnDirection\" functionid=\"-LR7|/~THZb$U)f+HKTI"],[0,"\"><a"]],"start1":2063,"start2":2063,"length1":55,"length2":67},{"diffs":[[0,"ir\" id=\""],[-1,"8e2mpul7ogl5au4d8toao"],[1,"0unn8hshn5f9rnhc1oiz"],[0,"\" type=\""]],"start1":2140,"start2":2140,"length1":37,"length2":36},{"diffs":[[0,"n_name\">"],[-1,"controlMotors"],[1,"moveRobotBasedOnDirection"],[0,"</field>"]],"start1":2221,"start2":2221,"length1":29,"length2":41},{"diffs":[[0,"tion to "],[-1,"control motors"],[1,"move robot"],[0," based o"]],"start1":2305,"start2":2305,"length1":30,"length2":26},{"diffs":[[0,"sed on direction"],[1," and avoid water areas"],[0,"</comment><value"]],"start1":2326,"start2":2326,"length1":32,"length2":54},{"diffs":[[0,"e name=\""],[-1,"8e2mpul7ogl5au4d8toao"],[1,"0unn8hshn5f9rnhc1oiz"],[0,"\"><block"]],"start1":2379,"start2":2379,"length1":37,"length2":36},{"diffs":[[0,"=\"3\""],[-1," else=\"1\""],[0,"></m"]],"start1":2605,"start2":2605,"length1":17,"length2":8},{"diffs":[[0,"d name=\"SLIDER\">"],[1,"-15"],[0,"0</field></shado"]],"start1":6852,"start2":6852,"length1":32,"length2":35},{"diffs":[[0,"d name=\"SLIDER\">"],[1,"-15"],[0,"0</field></shado"]],"start1":7013,"start2":7013,"length1":32,"length2":35},{"diffs":[[0,"nt><"],[-1,"statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop motors</comment><next"],[1,"/block></statement></block><block type=\"function_definition\" x=\"1240\" y=\"20\"><mutation name=\"stopRobot\" functionid=\"K*w`faOw6;kcEEFxKpjP\"></mutation><field name=\"function_name\">stopRobot</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to stop the robot</comment><statement name=\"STACK\""],[0,"><bl"]],"start1":7090,"start2":7090,"length1":130,"length2":300},{"diffs":[[0,"shadow></value><"],[1,"next><block type=\"device_clear_display\"><"],[0,"/block></next></"]],"start1":7818,"start2":7818,"length1":32,"length2":73},{"diffs":[[0,"ck><"],[-1,"/statement></block><block type=\"function_definition\" x=\"1171"],[1,"block type=\"function_definition\" x=\"1531\" y=\"20\"><mutation name=\"sendData\" functionid=\"T,o~Fy:jutB(P~kU8S^5\"></mutation><field name=\"function_name\">sendData</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to send distance to Raspberry Pi if obstacle detected</comment><statement name=\"STACK\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"dNNwW1jlbOLkr!GTfXyy\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><mutation else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"dNNwW1jlbOLkr!GTfXyy\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"serial_writevalue\"><comment pinned=\"false\" h=\"80\" w=\"160\">Critical obstacle</comment><value name=\"name\"><shadow type=\"text\"><field name=\"TEXT\">distance</field></shadow></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"serial_writevalue\"><comment pinned=\"false\" h=\"80\" w=\"160\">Obstacle detected</comment><value name=\"name\"><shadow type=\"text\"><field name=\"TEXT\">distance</field></shadow></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></statement></block></statement><statement name=\"ELSE\"><block type=\"serial_writevalue\"><comment pinned=\"false\" h=\"80\" w=\"160\">No obstacle</comment><value name=\"name\"><shadow type=\"text\"><field name=\"TEXT\">distance</field></shadow></value><value name=\"value\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" x=\"1982"],[0,"\" y="]],"start1":7914,"start2":7914,"length1":68,"length2":2352},{"diffs":[[0,"id=\""],[-1,"DJ/!G$nKEtYj-Z$8t~C."],[1,"5GDlPUS8gL%%po0nig=M"],[0,"\"></"]],"start1":10308,"start2":10308,"length1":28,"length2":28},{"diffs":[[0," to receive "],[1,"and process "],[0,"direction fr"]],"start1":10439,"start2":10439,"length1":24,"length2":36},{"diffs":[[0,"rection "],[1,"commands "],[0,"from Ras"]],"start1":10465,"start2":10465,"length1":16,"length2":25},{"diffs":[[0,"y Pi"],[-1," and control motors"],[0,"</co"]],"start1":10495,"start2":10495,"length1":27,"length2":8},{"diffs":[[0,"AR\" id=\""],[-1,"Fe7L!^O0])zdT,*,*T{$"],[1,"RqzM(7,FScP!){!mc[b-"],[0,"\">receiv"]],"start1":10575,"start2":10575,"length1":36,"length2":36},{"diffs":[[0,"ead_"],[-1,"line\""],[1,"until\"><value name=\"delimiter\"><shadow type=\"serial_delimiter_conv\"><field name=\"del\">Delimiters.NewLine</field></shadow></value"],[0,"></b"]],"start1":10729,"start2":10729,"length1":13,"length2":136},{"diffs":[[0," if "],[-1,"data starts with"],[1,"the received data contains"],[0," \"di"]],"start1":10954,"start2":10954,"length1":24,"length2":34},{"diffs":[[0,"AR\" id=\""],[-1,"Fe7L!^O0])zdT,*,*T{$"],[1,"RqzM(7,FScP!){!mc[b-"],[0,"\">receiv"]],"start1":11374,"start2":11374,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"/jujf%`T[[#zk?zR+Ka4"],[1,"5?T^CA*eAm4kQDRwN`Ps"],[0,"\">direct"]],"start1":11723,"start2":11723,"length1":36,"length2":36},{"diffs":[[0,"act the "],[1,"numeric "],[0,"directio"]],"start1":11813,"start2":11813,"length1":16,"length2":24},{"diffs":[[0,"id=\""],[-1,"Fe7L!^O0])zdT,*,*T{$"],[1,"RqzM(7,FScP!){!mc[b-"],[0,"\">re"]],"start1":12137,"start2":12137,"length1":28,"length2":28},{"diffs":[[0,"ue><"],[-1,"value name=\"length"],[1,"/block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Check if water is detected</comment><value name=\"IF0"],[0,"\"><s"]],"start1":12288,"start2":12288,"length1":26,"length2":192},{"diffs":[[0,"hadow type=\""],[-1,"math_number"],[1,"logic_boolean"],[0,"\"><field nam"]],"start1":12480,"start2":12480,"length1":35,"length2":37},{"diffs":[[0,"n\"><field name=\""],[-1,"NUM\">0"],[1,"BOOL\">TRUE"],[0,"</field></shadow"]],"start1":12504,"start2":12504,"length1":38,"length2":42},{"diffs":[[0,"ow><"],[-1,"/value></block></value></block></value><next"],[1,"block type=\"variables_get\"><field name=\"VAR\" id=\"kVS~o`VW_Kt1TKRpkLNP\">waterDetected</field></block></value><statement name=\"DO0\""],[0,"><bl"]],"start1":12544,"start2":12544,"length1":52,"length2":137},{"diffs":[[0,"me=\""],[-1,"controlMotors"],[1,"stopRobot"],[0,"\" fu"]],"start1":12718,"start2":12718,"length1":21,"length2":17},{"diffs":[[0,"id=\""],[-1,"qKJ=A,#*MoQdx2v[@v=L\"><arg name=\"dir\" id=\"8e2mpul7ogl5au4d8toao\" type=\"number\"></arg></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Control motors based on the received direction</comment><value name=\"8e2mpul7ogl5au4d8toao"],[1,"K*w`faOw6;kcEEFxKpjP\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Stop if water is detected</comment></block></statement><statement name=\"ELSE\"><block type=\"function_call\"><mutation name=\"moveRobotBasedOnDirection\" functionid=\"-LR7|/~THZb$U)f+HKTI\"><arg name=\"dir\" id=\"0unn8hshn5f9rnhc1oiz\" type=\"number\"></arg></mutation><value name=\"0unn8hshn5f9rnhc1oiz"],[0,"\"><s"]],"start1":12741,"start2":12741,"length1":233,"length2":369},{"diffs":[[0,"id=\""],[-1,"/jujf%`T[[#zk?zR+Ka4"],[1,"5?T^CA*eAm4kQDRwN`Ps"],[0,"\">di"]],"start1":13217,"start2":13217,"length1":28,"length2":28},{"diffs":[[0,"value></block></"],[1,"statement></block></"],[0,"next></block></s"]],"start1":13270,"start2":13270,"length1":32,"length2":52}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"/"],[-1,"/ Function to receive direction from Raspberry Pi and control motors"],[1,"**\n * Variables\n */\n// Function to send distance to Raspberry Pi if obstacle detected\nfunction sendData () {\n    if (distance < 500) {\n        if (distance < 100) {\n            // Critical obstacle\n            serial.writeValue(\"distance\", 2)\n        } else {\n            // Obstacle detected\n            serial.writeValue(\"distance\", 1)\n        }\n    } else {\n        // No obstacle\n        serial.writeValue(\"distance\", 0)\n    }\n}\n// Function to receive and process direction commands from Raspberry Pi"],[0,"\nfun"]],"start1":0,"start2":0,"length1":73,"length2":509},{"diffs":[[0,"read"],[1,"Until(serial.delimiters(Delimiters.New"],[0,"Line"],[-1,"("],[1,")"],[0,")\n  "]],"start1":558,"start2":558,"length1":13,"length2":51},{"diffs":[[0," if "],[-1,"data starts with"],[1,"the received data contains"],[0," \"di"]],"start1":619,"start2":619,"length1":24,"length2":34},{"diffs":[[0,"tion:\") == 0) {\n"],[1,"        let waterDetected = 0\n"],[0,"        // Extra"]],"start1":698,"start2":698,"length1":32,"length2":62},{"diffs":[[0,"act the "],[1,"numeric "],[0,"directio"]],"start1":759,"start2":759,"length1":16,"length2":24},{"diffs":[[0,"// C"],[-1,"ontrol motors based on the received direction\n        controlMotors"],[1,"heck if water is detected\n        if (waterDetected) {\n            // Stop if water is detected\n            stopRobot()\n        } else {\n            moveRobotBasedOnDirection"],[0,"(dir"]],"start1":858,"start2":858,"length1":75,"length2":182},{"diffs":[[0,"ection)\n"],[1,"        }\n"],[0,"    }\n}\n"]],"start1":1040,"start2":1040,"length1":16,"length2":26},{"diffs":[[0," to "],[-1,"control motors"],[1,"move robot"],[0," bas"]],"start1":1077,"start2":1077,"length1":22,"length2":18},{"diffs":[[0,"tion"],[-1,"\nfunction controlMotors"],[1," and avoid water areas\nfunction moveRobotBasedOnDirection"],[0," (di"]],"start1":1106,"start2":1106,"length1":31,"length2":65},{"diffs":[[0,"    "],[-1,"0,\n        robotbit.Motors.M1B,\n        0\n        )\n    } else {\n        // Stop motors\n        basic.clearScreen()\n        robotbit.MotorRunDual(\n        robotbit.Motors.M1A,\n        "],[1,"-15"],[0,"0,\n "]],"start1":1975,"start2":1975,"length1":192,"length2":11},{"diffs":[[0,"rs.M1B,\n        "],[1,"-15"],[0,"0\n        )\n    "]],"start1":2006,"start2":2006,"length1":32,"length2":35},{"diffs":[[0,"}\n}\n"],[-1,"let distance"],[1,"// Function to stop the robot\nfunction stopRobot () {\n    robotbit.MotorRunDual(\n    robotbit.Motors.M1A,\n    0,\n    robotbit.Motors.M1B,\n    0\n    )\n    basic.clearScreen()\n}\nlet direction"],[0," = 0"]],"start1":2041,"start2":2041,"length1":20,"length2":197},{"diffs":[[0," = \"\"\nlet di"],[-1,"rection"],[1,"stance"],[0," = 0\n// Set "]],"start1":2255,"start2":2255,"length1":31,"length2":30},{"diffs":[[0," USB"],[-1," or pins"],[0,"\nser"]],"start1":2311,"start2":2311,"length1":16,"length2":8},{"diffs":[[0,"ToUSB()\n"],[-1,"direction = 0\n"],[0,"basic.sh"]],"start1":2331,"start2":2331,"length1":30,"length2":16},{"diffs":[[0,"nction () {\n"],[1,"    // Read distance from sonar sensor\n"],[0,"    distance"]],"start1":2398,"start2":2398,"length1":24,"length2":63},{"diffs":[[0," // "],[-1,"Receive movement"],[1,"Send obstacle data to Raspberry Pi\n    sendData()\n    // Receive"],[0," dir"]],"start1":2549,"start2":2549,"length1":24,"length2":72},{"diffs":[[0,"rection "],[1,"data "],[0,"from Ras"]],"start1":2620,"start2":2620,"length1":16,"length2":21},{"diffs":[[0,"ceiveData()\n"],[1,"    // Optional: Update waterDetected based on sensor data or received data\n    // Example: waterDetected = checkWaterSensor(); // Implement this function as needed\n"],[0,"    basic.pa"]],"start1":2657,"start2":2657,"length1":24,"length2":189}]}]},{"timestamp":1727356788938,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"zR+Ka4\">"],[-1,"waterDir"],[1,"direction"],[0,"</variab"]],"start1":153,"start2":153,"length1":24,"length2":25},{"diffs":[[0,"#zk?zR+Ka4\">"],[-1,"waterDir"],[1,"direction"],[0,"</field><val"]],"start1":509,"start2":509,"length1":32,"length2":33},{"diffs":[[0,"er\" x=\"3"],[-1,"33"],[1,"42"],[0,"\" y=\"20\""]],"start1":785,"start2":785,"length1":18,"length2":18},{"diffs":[[0,"x=\"8"],[-1,"05"],[1,"14"],[0,"\" y="]],"start1":1645,"start2":1645,"length1":10,"length2":10},{"diffs":[[0,"d name=\"SLIDER\">"],[-1,"15"],[0,"0</field></shado"]],"start1":6430,"start2":6430,"length1":34,"length2":32},{"diffs":[[0,"d name=\"SLIDER\">"],[-1,"15"],[0,"0</field></shado"]],"start1":6588,"start2":6588,"length1":34,"length2":32},{"diffs":[[0,"x=\"1"],[-1,"23"],[1,"17"],[0,"1\" y"]],"start1":7332,"start2":7332,"length1":10,"length2":10},{"diffs":[[0,"#zk?zR+Ka4\">"],[-1,"waterDir"],[1,"direction"],[0,"</field><com"]],"start1":8683,"start2":8683,"length1":32,"length2":33},{"diffs":[[0,"e=\"NUM\">"],[-1,"5"],[1,"0"],[0,"</field>"]],"start1":9283,"start2":9283,"length1":17,"length2":17},{"diffs":[[0,"a4\">"],[-1,"waterDir"],[1,"direction"],[0,"</fi"]],"start1":9784,"start2":9784,"length1":16,"length2":17}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"        "],[-1,"waterDir"],[1,"direction"],[0," = parse"]],"start1":269,"start2":269,"length1":24,"length2":25},{"diffs":[[0,"str(10, "],[-1,"5"],[1,"0"],[0,"))\n     "]],"start1":316,"start2":316,"length1":17,"length2":17},{"diffs":[[0,"lMotors("],[-1,"waterDir"],[1,"direction"],[0,")\n    }\n"]],"start1":400,"start2":400,"length1":24,"length2":25},{"diffs":[[0,"rs.M1A,\n        "],[-1,"15"],[0,"0,\n        robot"]],"start1":1294,"start2":1294,"length1":34,"length2":32},{"diffs":[[0,"rs.M1B,\n        "],[-1,"15"],[0,"0\n        )\n    "]],"start1":1334,"start2":1334,"length1":34,"length2":32},{"diffs":[[0," \"\"\nlet "],[-1,"waterDir"],[1,"direction"],[0," = 0\n// "]],"start1":1589,"start2":1589,"length1":24,"length2":25},{"diffs":[[0,"B()\n"],[-1,"waterDir"],[1,"direction"],[0," = 0"]],"start1":1676,"start2":1676,"length1":16,"length2":17}]}]},{"timestamp":1727357345988,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"le><"],[1,"/"],[0,"variable"],[-1," id=\"M`U.=~h?oQ3bYlPGsHvK\">avoidDir</variable></variables"],[1,"s><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"serial_redirect_to_usb\"><comment pinned=\"false\" h=\"80\" w=\"160\">Set up serial communication to USB or pins</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></statement></block"],[0,"><bl"]],"start1":232,"start2":232,"length1":73,"length2":529},{"diffs":[[0,"inition\""],[-1," collapsed=\"true\""],[0," x=\"805\""]],"start1":1634,"start2":1634,"length1":33,"length2":16},{"diffs":[[0,"pe=\""],[-1,"pxt-on-start\" x=\"40\" y=\"62\"><statement name=\"HANDLER\"><block type=\"serial_redirect_to_usb\"><comment pinned=\"false\" h=\"80\" w=\"160\">Set up serial communication to USB or pins</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M`U.=~h?oQ3bYlPGsHvK\">avoidDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"369\"><mutation name=\"avoidObstacle\" functionid=\"JpsdorOMLRSj#zx]#aMU\"></mutation><field name=\"function_name\">avoidObstacle</field><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gVVHj?OXq`RjW*TLCTBu\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"M`U.=~h?oQ3bYlPGsHvK\">avoidDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"556\" y=\"369"],[1,"function_definition\" x=\"1231\" y=\"20"],[0,"\"><m"]],"start1":7309,"start2":7309,"length1":1674,"length2":43},{"diffs":[[0,"/block></value><"],[1,"next><block type=\"function_call\"><mutation name=\"controlMotors\" functionid=\"qKJ=A,#*MoQdx2v[@v=L\"><arg name=\"dir\" id=\"8e2mpul7ogl5au4d8toao\" type=\"number\"></arg></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Control motors based on the received direction</comment><value name=\"8e2mpul7ogl5au4d8toao\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field></block></value></block></next><"],[0,"/block></stateme"]],"start1":9335,"start2":9335,"length1":32,"length2":518}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"function avoidObstacle () {\n    if (distance < 500) {\n        avoidDir = 0\n    }\n}\n"],[0,"// F"]],"start1":0,"start2":0,"length1":87,"length2":4},{"diffs":[[0,"10, 5))\n"],[1,"        // Control motors based on the received direction\n        controlMotors(waterDir)\n"],[0,"    }\n}\n"]],"start1":319,"start2":319,"length1":16,"length2":106},{"diffs":[[0,"}\n}\n"],[-1,"let receivedData = \"\"\n"],[0,"let "]],"start1":1552,"start2":1552,"length1":30,"length2":8},{"diffs":[[0,"= 0\nlet "],[-1,"avoidDir = 0"],[1,"receivedData = \"\""],[0,"\nlet wat"]],"start1":1569,"start2":1569,"length1":28,"length2":33},{"diffs":[[0,"= 0\n"],[-1,"avoidDir = 0\n"],[0,"basi"]],"start1":1690,"start2":1690,"length1":21,"length2":8}]}]},{"timestamp":1727357880602,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ock "],[-1,"type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"serial_redirect_to_usb\"><comment pinned=\"false\" h=\"80\" w=\"160\">Set up serial communication to USB or pins</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M`U.=~h?oQ3bYlPGsHvK\">avoidDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></next></block></statement></block><block "],[0,"type"]],"start1":305,"start2":305,"length1":719,"length2":8},{"diffs":[[0,"></block><block "],[1,"type=\"pxt-on-start\" x=\"40\" y=\"62\"><statement name=\"HANDLER\"><block type=\"serial_redirect_to_usb\"><comment pinned=\"false\" h=\"80\" w=\"160\">Set up serial communication to USB or pins</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M`U.=~h?oQ3bYlPGsHvK\">avoidDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></next></block></statement></block><block "],[0,"type=\"function_d"]],"start1":6852,"start2":6852,"length1":32,"length2":743},{"diffs":[[0," x=\""],[-1,"4"],[0,"55"],[1,"6"],[0,"\" y="]],"start1":8525,"start2":8525,"length1":11,"length2":11}]}]},{"timestamp":1727357966003,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ariables><block "],[1,"type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"serial_redirect_to_usb\"><comment pinned=\"false\" h=\"80\" w=\"160\">Set up serial communication to USB or pins</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M`U.=~h?oQ3bYlPGsHvK\">avoidDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"333\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Main loop</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"gVVHj?OXq`RjW*TLCTBu\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"DJ/!G$nKEtYj-Z$8t~C.\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Receive movement direction from Raspberry Pi</comment><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value></block></next></block></next></block></statement></block><block "],[0,"type=\"function_d"]],"start1":293,"start2":293,"length1":32,"length2":1594},{"diffs":[[0,"x=\"8"],[-1,"2"],[0,"0"],[1,"5"],[0,"\" y=\""],[-1,"-9"],[0,"2"],[1,"0"],[0,"\"><m"]],"start1":1915,"start2":1915,"length1":18,"length2":17},{"diffs":[[0,"pe=\""],[-1,"device_forever\" x=\"296\" y=\"-35\"><comment pinned=\"false\" h=\"80\" w=\"160\">Main loop</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"gVVHj?OXq`RjW*TLCTBu\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"DJ/!G$nKEtYj-Z$8t~C.\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Receive movement direction from Raspberry Pi</comment><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value></block></next></block></next></block></statement></block><block type=\"pxt-on-start\" x=\"0\" y=\"0\"><statement name=\"HANDLER\"><block type=\"serial_redirect_to_usb\"><comment pinned=\"false\" h=\"80\" w=\"160\">Set up serial communication to USB or pins</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M`U.=~h?oQ3bYlPGsHvK\">avoidDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"-17\" y=\"314"],[1,"function_definition\" x=\"20\" y=\"369"],[0,"\"><m"]],"start1":7581,"start2":7581,"length1":1604,"length2":42},{"diffs":[[0,"x=\"4"],[-1,"18"],[1,"55"],[0,"\" y=\"3"],[-1,"14"],[1,"69"],[0,"\"><m"]],"start1":8526,"start2":8526,"length1":18,"length2":18}]}]},{"timestamp":1727677396507,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"x=\"8"],[-1,"19"],[1,"20"],[0,"\" y=\"-"],[1,"9"],[0,"2"],[-1,"17"],[0,"\"><m"]],"start1":353,"start2":353,"length1":19,"length2":18},{"diffs":[[0,"x=\"2"],[-1,"41"],[1,"96"],[0,"\" y=\"-"],[-1,"110"],[1,"35"],[0,"\"><c"]],"start1":6040,"start2":6040,"length1":19,"length2":18},{"diffs":[[0,"x=\"-"],[1,"1"],[0,"7"],[-1,"2"],[0,"\" y=\""],[-1,"239"],[1,"314"],[0,"\"><m"]],"start1":7606,"start2":7606,"length1":18,"length2":18},{"diffs":[[0," x=\""],[-1,"363"],[1,"418"],[0,"\" y=\""],[-1,"239"],[1,"314"],[0,"\"><m"]],"start1":8526,"start2":8526,"length1":19,"length2":19}]}]},{"timestamp":1727677478193,"editorVersion":"7.0.42","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"ion\""],[-1," id=\",CV8HYcj:jQ8P6-C+k@}\""],[0," col"]],"start1":331,"start2":331,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\",bD|ZeA9rgs]9Hcx-i*|\""],[0,"><mu"]],"start1":722,"start2":722,"length1":34,"length2":8},{"diffs":[[0,"_if\""],[-1," id=\"B`f5`h|ofpUiM|2e/$t)\""],[0,"><mu"]],"start1":863,"start2":863,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"V]r0X,M#rRTR|`Pg]|1$\""],[0,"><fi"]],"start1":951,"start2":951,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"ng:ZJVn{2TLQ3r`kJFg}\""],[0,"><fi"]],"start1":1019,"start2":1019,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\":vL}kK9]-LdpsSCDqOW{\""],[0,"><fi"]],"start1":1089,"start2":1089,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"_p#Px;.CzoEO$Q.]f{Z_\""],[0,"><fi"]],"start1":1164,"start2":1164,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"An4L+E:Rs8x%XEhob5Iz\""],[0,"><fi"]],"start1":1254,"start2":1254,"length1":34,"length2":8},{"diffs":[[0,"row\""],[-1," id=\"JYuA51M]t]En?]Kh;W8g\""],[0,"><co"]],"start1":1367,"start2":1367,"length1":34,"length2":8},{"diffs":[[0,"row\""],[-1," id=\"Rqc5j21~7yE)/-W%X)z:\""],[0,"><fi"]],"start1":1472,"start2":1472,"length1":34,"length2":8},{"diffs":[[0,"ual\""],[-1," id=\"XF*CwxPh8S%W=ys_DC^=\""],[0,"><fi"]],"start1":1573,"start2":1573,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"fLB~TY?rL:Un-AdPBSpg\""],[0,"><mu"]],"start1":1724,"start2":1724,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"0vw#GnNR]CF.^I`Dk#ds\""],[0,"><mu"]],"start1":1884,"start2":1884,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"yDKJMgU_qbx(8V@a|0kw\""],[0,"><fi"]],"start1":2071,"start2":2071,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"7WTrJUYM%|33Dz]`Oqhf\""],[0,"><fi"]],"start1":2139,"start2":2139,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"{riXa1hJasS$Jma8f=6?\""],[0,"><fi"]],"start1":2209,"start2":2209,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"vPj`~7,/A6WxvT]Xj.(s\""],[0,"><fi"]],"start1":2284,"start2":2284,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"3zRG^0V}_RpQM[^4SeYp\""],[0,"><fi"]],"start1":2374,"start2":2374,"length1":34,"length2":8},{"diffs":[[0,"row\""],[-1," id=\":o$gC7|fnFF9dPyb_29C\""],[0,"><co"]],"start1":2487,"start2":2487,"length1":34,"length2":8},{"diffs":[[0,"row\""],[-1," id=\"5*i]$?Y:kq:n6VrKy:C(\""],[0,"><fi"]],"start1":2589,"start2":2589,"length1":34,"length2":8},{"diffs":[[0,"ual\""],[-1," id=\"a1VDlK$JG?gXGWBL=K,g\""],[0,"><fi"]],"start1":2689,"start2":2689,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"H@N{5_VrM88mohpF2]{g\""],[0,"><mu"]],"start1":2840,"start2":2840,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"`q##:+;9KI/R~k$+Yk*_\""],[0,"><mu"]],"start1":2998,"start2":2998,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"L/K,hXy+Rm)w)+rn|QUL\""],[0,"><fi"]],"start1":3185,"start2":3185,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"wXDO7)LUy-:9PE=JLzyO\""],[0,"><fi"]],"start1":3253,"start2":3253,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"k}|0E+;z~Mu#SMVJbgE!\""],[0,"><fi"]],"start1":3323,"start2":3323,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"kIa]ih#d3E2ceRiP|=BJ\""],[0,"><fi"]],"start1":3398,"start2":3398,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"]AO0tx%Bme(uJ_4jEIg?\""],[0,"><fi"]],"start1":3488,"start2":3488,"length1":34,"length2":8},{"diffs":[[0,"row\""],[-1," id=\"v31Nt5$`JW}A~DnVQ4I?\""],[0,"><co"]],"start1":3601,"start2":3601,"length1":34,"length2":8},{"diffs":[[0,"row\""],[-1," id=\"bRJql.82_-XBy`)bNwC(\""],[0,"><fi"]],"start1":3704,"start2":3704,"length1":34,"length2":8},{"diffs":[[0,"ual\""],[-1," id=\"@I0rp}!%}dWIK;nKpGtc\""],[0,"><fi"]],"start1":3804,"start2":3804,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"@mZ$bA{Czmb1:?4Uw5=l\""],[0,"><mu"]],"start1":3955,"start2":3955,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"g:!O^Bk!F+jEV.+Pp%o.\""],[0,"><mu"]],"start1":4115,"start2":4115,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"EZ+/+(e,}dsQvJGRx9~0\""],[0,"><fi"]],"start1":4300,"start2":4300,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"eW4wi_xDLEh*)nK[kXhO\""],[0,"><fi"]],"start1":4368,"start2":4368,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"(~1-:%;;c50^BwJb}%pC\""],[0,"><fi"]],"start1":4438,"start2":4438,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"D.^7K~yj#1={Z/0xqC(f\""],[0,"><fi"]],"start1":4513,"start2":4513,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"IB[Mw@kCo-4ffNP}=T++\""],[0,"><fi"]],"start1":4603,"start2":4603,"length1":34,"length2":8},{"diffs":[[0,"row\""],[-1," id=\"q^v}xqj_RK@?qNXfI.!]\""],[0,"><co"]],"start1":4716,"start2":4716,"length1":34,"length2":8},{"diffs":[[0,"row\""],[-1," id=\"@x:6=n:GdTlo9yewEBpV\""],[0,"><fi"]],"start1":4822,"start2":4822,"length1":34,"length2":8},{"diffs":[[0,"ual\""],[-1," id=\"NP)kq+?T:K?gtblo?g-r\""],[0,"><fi"]],"start1":4923,"start2":4923,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"Lz`rgI0XS*?tE%O8hbhY\""],[0,"><mu"]],"start1":5074,"start2":5074,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"]V/7Wn7;vWP7K@Z$`GRm\""],[0,"><mu"]],"start1":5234,"start2":5234,"length1":34,"length2":8},{"diffs":[[0,"lay\""],[-1," id=\"k;61JpmeJCa1vx(Ylnb$\""],[0,"><co"]],"start1":5432,"start2":5432,"length1":34,"length2":8},{"diffs":[[0,"ual\""],[-1," id=\"sVGDx,8L(Kq7ZI8j95{S\""],[0,"><fi"]],"start1":5532,"start2":5532,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"sazSq*~zw01.x}WPO[bL\""],[0,"><mu"]],"start1":5683,"start2":5683,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"B5p;BY!fUB@j_b_o%ltr\""],[0,"><mu"]],"start1":5841,"start2":5841,"length1":34,"length2":8},{"diffs":[[0,"ver\""],[-1," id=\"#(743!8DX.aZAg;HVbD%\""],[0," x=\""]],"start1":6036,"start2":6036,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"Q`59Uq=J-+Z8]*Px5.@`\""],[0,"><fi"]],"start1":6165,"start2":6165,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"kkaHV)r2Eh~m(xV*3_jM\""],[0,"><fi"]],"start1":6272,"start2":6272,"length1":34,"length2":8},{"diffs":[[0,"ing\""],[-1," id=\"6t)GdIiYH0kV}aJWaKRs\""],[0,"><fi"]],"start1":6333,"start2":6333,"length1":34,"length2":8},{"diffs":[[0,"all\""],[-1," id=\"FPiCIyj:u~DGU3GQ:M[Q\""],[0,"><mu"]],"start1":6511,"start2":6511,"length1":34,"length2":8},{"diffs":[[0,"use\""],[-1," id=\"K))x,W:DYYKd=x,rpdI?\""],[0,"><va"]],"start1":6711,"start2":6711,"length1":34,"length2":8},{"diffs":[[0,"ker\""],[-1," id=\"u|x1@O-c~Cp1Uo0A^t1h\""],[0,"><fi"]],"start1":6757,"start2":6757,"length1":34,"length2":8},{"diffs":[[0,"art\""],[-1," id=\"vbQ]@pQ.]dUju_GM#z0K\""],[0," x=\""]],"start1":6887,"start2":6887,"length1":34,"length2":8},{"diffs":[[0,"usb\""],[-1," id=\".~@S;8uve6K$UT#C=^pQ\""],[0,"><co"]],"start1":6962,"start2":6962,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"*Eb:?kv~AUP]Qf~BAW)a\""],[0,"><fi"]],"start1":7087,"start2":7087,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\")01$cy-O3N41Ndl-B{=+\""],[0,"><fi"]],"start1":7194,"start2":7194,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"+*g7k,Fsx{8Rt{EU;8?t\""],[0,"><fi"]],"start1":7272,"start2":7272,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"=bleC.F+0658X$MON9[R\""],[0,"><fi"]],"start1":7379,"start2":7379,"length1":34,"length2":8},{"diffs":[[0,"con\""],[-1," id=\"Zs[]kT#TohCLWQ-XkGY*\""],[0,"><fi"]],"start1":7459,"start2":7459,"length1":34,"length2":8},{"diffs":[[0,"ion\""],[-1," id=\"hGFMTJE}0+1z_qfVuG?T\""],[0," x=\""]],"start1":7603,"start2":7603,"length1":34,"length2":8},{"diffs":[[0,"_if\""],[-1," id=\"9bmSVQKkjKyNyIw_8ks@\""],[0,"><va"]],"start1":7794,"start2":7794,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"iWguz}LU_C2#wU(`MpKm\""],[0,"><fi"]],"start1":7841,"start2":7841,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"+uV)q08zSY-IH_M_;(wX\""],[0,"><fi"]],"start1":7909,"start2":7909,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"pb})vX0*lqu)3C8j5i0-\""],[0,"><fi"]],"start1":7979,"start2":7979,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"otx]!?s*RVj8M`uTB@:-\""],[0,"><fi"]],"start1":8043,"start2":8043,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"jo@@Wgqaz:$y;/{-y#sH\""],[0,"><fi"]],"start1":8162,"start2":8162,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"ffD;7DyisI/-uqKR#)mr\""],[0,"><fi"]],"start1":8274,"start2":8274,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"PlmxCy8O!Riey82f)NQi\""],[0,"><fi"]],"start1":8381,"start2":8381,"length1":34,"length2":8},{"diffs":[[0,"ion\""],[-1," id=\"SBE$UiTd/#jdkiHH*oHG\""],[0," col"]],"start1":8507,"start2":8507,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"]9+7ODb8Cpe,MSU-2eB9\""],[0,"><fi"]],"start1":8828,"start2":8828,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"+U`K9vHs,@W?Sj2cw#(`\""],[0,"><fi"]],"start1":8939,"start2":8939,"length1":34,"length2":8},{"diffs":[[0,"ine\""],[-1," id=\"`u|JB44Z[6#!ib:g[$Of\""],[0,"></b"]],"start1":9006,"start2":9006,"length1":34,"length2":8},{"diffs":[[0,"_if\""],[-1," id=\"#/1}Mz,2J8{Ry,ssK?I9\""],[0,"><co"]],"start1":9054,"start2":9054,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"#j4CcXsKL2TXN`vcJ{mo\""],[0,"><fi"]],"start1":9188,"start2":9188,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"O]DmCj=/VXsIU/gC:ho?\""],[0,"><fi"]],"start1":9256,"start2":9256,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"Qfhp)F.:]/5Ai8%a-fcz\""],[0,"><fi"]],"start1":9326,"start2":9326,"length1":34,"length2":8},{"diffs":[[0,"xof\""],[-1," id=\"JGli5$poZF@u7aD48UkL\""],[0,"><va"]],"start1":9391,"start2":9391,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"gkcnVU(p`SGK;Vl.5e=9\""],[0,"><fi"]],"start1":9430,"start2":9430,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\",tmq;,R5K?`C`t3VG?+v\""],[0,"><fi"]],"start1":9494,"start2":9494,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"uL{SS.JguA#ve$OP|40p\""],[0,"><fi"]],"start1":9620,"start2":9620,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"dtjy#Y0`ow@e4xu[b[r.\""],[0,"><fi"]],"start1":9733,"start2":9733,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"~OEF3a=%^^K3[v*3Spiy\""],[0,"><fi"]],"start1":9843,"start2":9843,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"f9`u#M*%me#)O(7J-K#O\""],[0,"><fi"]],"start1":10026,"start2":10026,"length1":34,"length2":8},{"diffs":[[0,"oat\""],[-1," id=\"YRM}@Xj~eWag}H}78Ndu\""],[0,"><va"]],"start1":10094,"start2":10094,"length1":34,"length2":8},{"diffs":[[0,"str\""],[-1," id=\"U%P{r[X9y4[oF-+WG3sI\""],[0,"><va"]],"start1":10141,"start2":10141,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"jhqn/s+C%|e:mUfy%MZd\""],[0,"><fi"]],"start1":10180,"start2":10180,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"gBOR(9^}z)v}LAulvIio\""],[0,"><fi"]],"start1":10244,"start2":10244,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"^ZeF9*d,)oh|Nq/)vt_d\""],[0,"><fi"]],"start1":10371,"start2":10371,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"$Qpw]ISEC~hZ}*JC:Vc}\""],[0,"><fi"]],"start1":10464,"start2":10464,"length1":34,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":359,"start2":359,"length1":52,"length2":8}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1726302605956,"editorVersion":"7.0.42","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"RaspberryPi\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1727357335180,"editorVersion":"7.0.42","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"Fe7L!^O0])zdT,*,*T{$\">receivedData</variable><variable id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</variable><variable id=\"gVVHj?OXq`RjW*TLCTBu\">distance</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"serial_redirect_to_usb\"><comment pinned=\"false\" h=\"80\" w=\"160\">Set up serial communication to USB or pins</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"333\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Main loop</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"gVVHj?OXq`RjW*TLCTBu\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"DJ/!G$nKEtYj-Z$8t~C.\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Receive movement direction from Raspberry Pi</comment><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"805\" y=\"20\"><mutation name=\"controlMotors\" functionid=\"qKJ=A,#*MoQdx2v[@v=L\"><arg name=\"dir\" id=\"8e2mpul7ogl5au4d8toao\" type=\"number\"></arg></mutation><field name=\"function_name\">controlMotors</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to control motors based on direction</comment><value name=\"8e2mpul7ogl5au4d8toao\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dir</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"3\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dir</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">Move forward</comment><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dir</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">Turn left</comment><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dir</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO2\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">Turn right</comment><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value></block></next></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dir</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value><statement name=\"DO3\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">Move backward</comment><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.South</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop motors</comment><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"1231\" y=\"20\"><mutation name=\"receiveData\" functionid=\"DJ/!G$nKEtYj-Z$8t~C.\"></mutation><field name=\"function_name\">receiveData</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to receive direction from Raspberry Pi and control motors</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Fe7L!^O0])zdT,*,*T{$\">receivedData</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_line\"></block></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Check if data starts with \"direction:\"</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">NEQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Fe7L!^O0])zdT,*,*T{$\">receivedData</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">direction:</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field><comment pinned=\"false\" h=\"80\" w=\"160\">Extract the direction value</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_parsefloat\"><value name=\"text\"><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Fe7L!^O0])zdT,*,*T{$\">receivedData</field></block></value><value name=\"start\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value><next><block type=\"function_call\"><mutation name=\"controlMotors\" functionid=\"qKJ=A,#*MoQdx2v[@v=L\"><arg name=\"dir\" id=\"8e2mpul7ogl5au4d8toao\" type=\"number\"></arg></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Control motors based on the received direction</comment><value name=\"8e2mpul7ogl5au4d8toao\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field></block></value></block></next></block></statement></block></next></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"","pxt.json":"{\n    \"name\": \"FYP\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"robotbit\": \"github:kittenbot/pxt-robotbit#v0.4.6\",\n        \"pxt-sonar\": \"github:microsoft/pxt-sonar#v0.0.6\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}},{"timestamp":1727677396507,"editorVersion":"7.0.42","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"Fe7L!^O0])zdT,*,*T{$\">receivedData</variable><variable id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</variable><variable id=\"gVVHj?OXq`RjW*TLCTBu\">distance</variable><variable id=\"M`U.=~h?oQ3bYlPGsHvK\">avoidDir</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"serial_redirect_to_usb\"><comment pinned=\"false\" h=\"80\" w=\"160\">Set up serial communication to USB or pins</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"M`U.=~h?oQ3bYlPGsHvK\">avoidDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"basic_show_icon\"><field name=\"i\">IconNames.Yes</field></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"333\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Main loop</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"gVVHj?OXq`RjW*TLCTBu\">distance</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"sonar_ping\"><field name=\"trig\">DigitalPin.P0</field><field name=\"echo\">DigitalPin.P1</field><field name=\"unit\">PingUnit.MicroSeconds</field></block></value><next><block type=\"function_call\"><mutation name=\"receiveData\" functionid=\"DJ/!G$nKEtYj-Z$8t~C.\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Receive movement direction from Raspberry Pi</comment><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value></block></next></block></next></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"805\" y=\"20\"><mutation name=\"controlMotors\" functionid=\"qKJ=A,#*MoQdx2v[@v=L\"><arg name=\"dir\" id=\"8e2mpul7ogl5au4d8toao\" type=\"number\"></arg></mutation><field name=\"function_name\">controlMotors</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to control motors based on direction</comment><value name=\"8e2mpul7ogl5au4d8toao\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">dir</field></block></value><statement name=\"STACK\"><block type=\"controls_if\"><mutation elseif=\"3\" else=\"1\"></mutation><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dir</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">Move forward</comment><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.North</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value></block></next></block></statement><value name=\"IF1\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dir</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value></block></value><statement name=\"DO1\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">Turn left</comment><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.West</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value></block></next></block></statement><value name=\"IF2\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dir</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value></block></value><statement name=\"DO2\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">Turn right</comment><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.East</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value></block></next></block></statement><value name=\"IF3\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"argument_reporter_number\"><field name=\"VALUE\">dir</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">3</field></shadow></value></block></value><statement name=\"DO3\"><block type=\"basic_show_arrow\"><comment pinned=\"false\" h=\"80\" w=\"160\">Move backward</comment><value name=\"i\"><shadow type=\"device_arrow\"><field name=\"arrow\">ArrowNames.South</field></shadow></value><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">150</field></shadow></value></block></next></block></statement><statement name=\"ELSE\"><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">Stop motors</comment><next><block type=\"robotbit_motor_dual\"><field name=\"motor1\">robotbit.Motors.M1A</field><field name=\"motor2\">robotbit.Motors.M1B</field><value name=\"speed1\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value><value name=\"speed2\"><shadow type=\"math_number_minmax\"><mutation min=\"-255\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value></block></next></block></statement></block></statement></block><block type=\"function_definition\" x=\"20\" y=\"369\"><mutation name=\"avoidObstacle\" functionid=\"JpsdorOMLRSj#zx]#aMU\"></mutation><field name=\"function_name\">avoidObstacle</field><statement name=\"STACK\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gVVHj?OXq`RjW*TLCTBu\">distance</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">500</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"M`U.=~h?oQ3bYlPGsHvK\">avoidDir</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></statement></block></statement></block><block type=\"function_definition\" collapsed=\"true\" x=\"455\" y=\"369\"><mutation name=\"receiveData\" functionid=\"DJ/!G$nKEtYj-Z$8t~C.\"></mutation><field name=\"function_name\">receiveData</field><comment pinned=\"false\" h=\"80\" w=\"160\">Function to receive direction from Raspberry Pi and control motors</comment><statement name=\"STACK\"><block type=\"variables_set\"><field name=\"VAR\" id=\"Fe7L!^O0])zdT,*,*T{$\">receivedData</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"serial_read_line\"></block></value><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">Check if data starts with \"direction:\"</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_indexof\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Fe7L!^O0])zdT,*,*T{$\">receivedData</field></block></value><value name=\"searchValue\"><shadow type=\"text\"><field name=\"TEXT\">direction:</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"/jujf%`T[[#zk?zR+Ka4\">waterDir</field><comment pinned=\"false\" h=\"80\" w=\"160\">Extract the direction value</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"string_parsefloat\"><value name=\"text\"><block type=\"string_substr\"><value name=\"this\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Fe7L!^O0])zdT,*,*T{$\">receivedData</field></block></value><value name=\"start\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value><value name=\"length\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block></value></block></value></block></statement></block></next></block></statement></block></xml>","main.ts":"","README.md":"","main.py":"","pxt.json":"{\n    \"name\": \"FYP\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"robotbit\": \"github:kittenbot/pxt-robotbit#v0.4.6\",\n        \"pxt-sonar\": \"github:microsoft/pxt-sonar#v0.0.6\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}}],"shares":[],"lastSaveTime":1727677506941}